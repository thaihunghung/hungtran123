/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={4657:(e,t,n)=>{var r,a,o,i,c,l=n(6488),u=n(5945),s=n(3757),f=n(6160),m=n(749),d=n(1630),p=n(4694),h=n(1254),v=n(8168),y=n(5979),g=n(1488),b=n(7818),w=n(537),E=n(8694),R=mwai_meow_plugin.prefix,x=mwai_meow_plugin.domain,k=mwai_meow_plugin.rest_url.replace(/\/+$/,""),O=mwai_meow_plugin.api_url.replace(/\/+$/,""),_=mwai_meow_plugin.plugin_url.replace(/\/+$/,""),S="1"===mwai_meow_plugin.is_pro,L=S&&"1"===mwai_meow_plugin.is_registered,P=mwai_meow_plugin.rest_nonce,T=mwai_meow_plugin.options,j=mwai_meow_plugin.session,C=mwai_meow_plugin.pricing,N=n(8406),I=n(2788);function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F=I.ZP.div(r||(r=A(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),G=(0,I.ZP)(w.v)(a||(a=A(["\n\n  .nui-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-left: 20px;\n\n  }\n\n  .nui-block-content {\n    display: flex;\n    padding: 10px;\n    item-align: center;\n\n    h2 {\n      color: #055082;\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      font-size: 15px;\n    }\n  }\n"]))),B=I.ZP.img(o||(o=A(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]))),M=I.ZP.div(i||(i=A(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),z=I.ZP.ul(c||(c=A(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n\n  .log-date {\n    color: white;\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: #ccb028;\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: #cc2828;\n    color: white;\n  }\n"])));function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function W(){W=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==D(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function q(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=wp.element,J=V.useState,$=V.useEffect,K="".concat(k,"/meow-common/v1"),Q=function(e){var t=e.request,n=e.title,r=e.max,a=Y(J(!1),2),o=a[0],i=a[1],c=Y(J([]),2),l=c[0],u=c[1],s=l.length>0?l.reduce((function(e,t){return e+t})):0,m=l.length>0?Math.ceil(s/l.length):0,d=!l.length&&o;return $((function(){o&&setTimeout(U(W().mark((function e(){var n,r,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,E.PV)("".concat(K,"/").concat(t),{method:"POST",nonce:P});case 3:r=(new Date).getTime(),a=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return H(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]),React.createElement(F,{style:{width:200,textAlign:"center"}},React.createElement(f.O,{h2:!0,style:{color:"white"}},n),React.createElement(N._,{size:200,value:d?r:m,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":m+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":l.length+" requests")),React.createElement(b._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||u([]),i(!o)}},o?"Stop":"Start"))};function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function ee(){ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==X(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ae(o,r,a,i,c,"next",e)}function c(e){ae(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=wp.element,ue=le.useState,se=le.useEffect;O&&k&&_||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var fe="".concat(k,"/meow-common/v1"),me=React.createElement(F,null,React.createElement(f.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),de=React.createElement(F,null,React.createElement(f.O,{p:!0},"⭐️ The ",React.createElement("b",null,"Empty Request Time")," helps you analyzing the raw performance of your install by giving you the average time it takes to run an empty request to your server. You can try to disable some plugins then start this again to see how it modifies the results. Keep it absolutely under 2,000 ms! That said, I recommend it to keep it below 500ms."),React.createElement(f.O,{p:!0},"⭐️ ",React.createElement("b",null,"File Operation Time")," creates a temporary size of 10MB every time."),React.createElement(f.O,{p:!0},"⭐️ ",React.createElement("b",null,"SQL Request Time")," counts the number of posts. Those two should be very fast, and almost the same as the ",React.createElement("b",null,"Empty Request Time"),".")),pe=React.createElement(F,null,React.createElement(f.O,{p:!0},"Keep your WordPress install simple and efficient by using only necessary plugins and a reliable hosting service. Avoid trying to self-host unless you have professional experience. Follow best practices and stay up-to-date with the latest recommendations on the Meow Apps website.",React.createElement("ul",null,React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"💜 ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),he=["".concat(fe,"/all_settings/"),{headers:{"X-WP-Nonce":P}}],ve=function(){var e=ie(ue(!1),2),t=e[0],n=e[1],r=(0,s.ZP)(he,E.SG),a=r.data,o=r.mutate,i=r.error,c=null==a?void 0:a.data,l=null==c?void 0:c.meowapps_hide_meowapps,u=null==c?void 0:c.force_sslverify,R=ie(ue(!1),2),x=R[0],k=R[1],O=ie(ue([]),2),S=O[0],L=O[1],T=ie(ue(""),2),j=T[0],C=T[1];se((function(){i&&!t&&(n(!0),console.error("Error from UseSWR",i.message))}),[i]),se((function(){var e=document.getElementById("meow-common-phpinfo");C(e.innerHTML)}),[]);var N=function(){var e=oe(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ne({},a.data))[n]=t,o(ne(ne({},a),{},{data:r}),!1),k(!0),e.next=6,(0,E.PV)("".concat(fe,"/update_option"),{method:"POST",nonce:P,json:{name:n,value:t}});case 6:i=e.sent,k(!1),i.success||alert(i.message),o();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=oe(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,(0,E.PV)("".concat(fe,"/error_logs"),{method:"POST",nonce:P});case 3:t=e.sent,n=t&&t.data?t.data:[],L(n.reverse()),k(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=React.createElement(m.r,{title:"Main Menu"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:x,checked:l,onChange:N}))),D=React.createElement(m.r,{title:"SSL Verify"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:u,onChange:N})));return React.createElement(h.s,{showRestError:t},React.createElement(v.B,{title:"The Dashboard"}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(g.c,null,React.createElement(g.P,{title:"Meow Apps"},me,React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(G,{title:"Media Cleaner",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/media-cleaner.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Remove the useless media entries and files."))),React.createElement(G,{title:"Database Cleaner",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/database-cleaner.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Clean your database and make it faster."))),React.createElement(G,{title:"Media File Renamer",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/media-file-renamer.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename your filenames for a better SEO."))),React.createElement(G,{title:"Social Engine",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/social-engine.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Share your articles and photos on the SNS."))),React.createElement(G,{title:"Meow Analytics",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/meow-analytics.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(y.z,{minimal:!0},React.createElement(G,{title:"Photo Engine",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/wplr-sync.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(G,{title:"Meow Gallery",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/meow-gallery.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(G,{title:"Meow Lightbox",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/meow-lightbox.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(G,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/wp-retina-2x.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Optimize your thumbnails, retina, replace images, etc."))),React.createElement(G,{title:"Contact Form Block",className:"primary"},React.createElement(B,{src:"".concat(_,"/common/img/contact-form-block.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block.")))))),React.createElement(g.P,{title:"Performance"},de,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(Q,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(Q,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(Q,{title:"SQL Request Time",request:"sql_request",max:2800})),pe),React.createElement(g.P,{title:"PHP Info"},React.createElement(M,{dangerouslySetInnerHTML:{__html:j}})),React.createElement(g.P,{title:"PHP Error Logs"},React.createElement(F,null,React.createElement(b._,{style:{marginBottom:10},color:"#ccb027",onClick:I},"Load PHP Error Logs"),React.createElement(z,null,S.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(f.O,{p:!0},"If nothing appears after loading, it might be that your hosting service does not allow you to access the PHP error logs directly from here. Please contact them directly."))),React.createElement(g.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},A,D))))))},ye=n(1492),ge=n(9137),be=n(9746),we=n(3565),Ee=n(3895),Re=n(3506),xe=n(3103),ke=n(477),Oe=n(1203);function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==_e(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Le(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,c,"next",e)}function c(e){Le(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=wp.element,Ne=Ce.useState,Ie=Ce.useEffect,Ae="".concat(k,"/meow-licenser/").concat(R,"/v1"),Fe=function(){var e=Te(Ne(!1),2),t=e[0],n=e[1],r=Te(Ne(!1),2),a=r[0],o=r[1],i=Te(Ne(null),2),c=i[0],l=i[1],u=Te(Ne(null),2),s=u[0],d=u[1],p=Te(Ne(""),2),h=p[0],v=p[1],y=L&&(!s||"valid"!==s.license),g=function(){var e=Pe(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,E.PV)("".concat(Ae,"/get_license"),{method:"POST",nonce:P});case 5:t=e.sent,d(t.data),t.data.key&&v(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Pe(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,E.PV)("".concat(Ae,"/set_license"),{method:"POST",nonce:P,json:{serialKey:null}});case 3:e.sent.success&&(v(""),d(null),l("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Pe(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,E.PV)("".concat(Ae,"/set_license"),{method:"POST",nonce:P,json:{serialKey:h,override:!0}});case 3:(t=e.sent).success&&(d(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Pe(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==h){e.next=5;break}return o(!0),d(null),v(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,E.PV)("".concat(Ae,"/set_license"),{method:"POST",nonce:P,json:{serialKey:h}});case 8:(t=e.sent).success&&(d(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ie((function(){g()}),[]);var O=y?"Forced License":L?"Enabled":"Disabled",_=y||s&&"valid"===s.license,T="Your license is active. Thanks a lot for your support :)";y&&s&&s.check_url&&(T=React.createElement(React.Fragment,null,React.createElement("span",null,T),React.createElement("br",null),React.createElement("small",null,"This license was enabled manually. To check your license status, please click ",React.createElement("a",{target:"_blank",href:s.check_url+"&cache="+642e3*Math.random()},"here"),"."))),_||(s?"no_activations_left"===s.issue?T=React.createElement("span",null,"There are no activations left for this license. You can visit your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===s.issue?T=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),"."):"missing"===s.issue?T="This license does not exist.":"disabled"===s.issue?T="This license has been disabled.":"item_name_mismatch"===s.issue?T="This license seems to be for a different plugin... isn't it? :)":"forced"===s.issue?T="ABC":(T=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:s})):T="Unknown error :(");var j=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps Store"),"."),C=React.createElement(w.v,{title:"Pro Version (".concat(O,")"),busy:t,className:"primary"},React.createElement(m.r,{title:"Serial Key",style:{fontWeight:"bold"}},React.createElement(ye.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:h,onChange:function(e){return v(e)},placeholder:""})),s&&!_&&React.createElement(Re.G,null,T),s&&_&&React.createElement(Re.C,null,T),!s&&React.createElement(f.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button."),React.createElement(m.r,{contentAlign:"right"},s&&!_&&React.createElement(b._,{className:"secondary",disabled:t||!h,onClick:k},"Retry to validate"),s&&s.key===h&&React.createElement(b._,{className:"secondary",disabled:t||!h,onClick:R},"Remove License"),React.createElement(b._,{disabled:t||!h||s&&s.key===h,onClick:k},"Validate License"),a&&!_&&React.createElement(b._,{disabled:t||!h||s&&s.key===h,onClick:x,className:"danger"},"Force License")),React.createElement(Oe.L,{isOpen:"licenseAdded"===c,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}),React.createElement(Oe.L,{isOpen:"licenseRemoved"===c,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}));return S?C:j},Ge=[{id:"text-davinci-003",name:"text-davinci-003",short:"davinci",description:"Most capable GPT-3 model. Can do any task the other models can do, often with higher quality, longer output and better instruction-following. Also supports inserting completions within text.",strength:"Complex intent, cause and effect, summarization for audience"},{id:"text-curie-001",name:"text-curie-001",short:"curie",description:"Very capable, but faster and lower cost than Davinci.",strength:"Language translation, complex classification, text sentiment, summarization"},{id:"text-babbage-001",name:"text-babbage-001",short:"babbage",description:"Capable of straightforward tasks, very fast, and lower cost.",strength:"Moderate classification, semantic search classification"},{id:"text-ada-001",name:"text-ada-001",short:"ada",description:"Capable of very simple tasks, usually the fastest model in the GPT-3 series, and lowest cost.",strength:"Parsing text, simple classification, address correction, keywords"}],Be=[{value:"informative",label:"Informative"},{value:"descriptive",label:"Descriptive"},{value:"creative",label:"Creative"},{value:"narrative",label:"Narrative"},{value:"persuasive",label:"Persuasive"},{value:"reflective",label:"Reflective"},{value:"argumentative",label:"Argumentative"},{value:"analytical",label:"Analytical"},{value:"evaluative",label:"Evaluative"},{value:"journalistic",label:"Journalistic"},{value:"technical",label:"Technical"}],Me=[{value:"neutral",label:"Neutral"},{value:"formal",label:"Formal"},{value:"assertive",label:"Assertive"},{value:"cheerful",label:"Cheerful"},{value:"humorous",label:"Humorous"},{value:"informal",label:"Informal"},{value:"inspirational",label:"Inspirational"},{value:"professional",label:"Professional"},{value:"confvalueent",label:"Confvalueent"},{value:"emotional",label:"Emotional"},{value:"persuasive",label:"Persuasive"},{value:"supportive",label:"Supportive"},{value:"sarcastic",label:"Sarcastic"},{value:"condescending",label:"Condescending"},{value:"skeptical",label:"Skeptical"},{value:"narrative",label:"Narrative"},{value:"journalistic",label:"Journalistic"}],ze=[{model:"davinci",price:.02},{model:"curie",price:.002},{model:"babbage",price:5e-4},{model:"ada",price:4e-4},{model:"dall-e",price:.02}],De=[{id:"default",name:"Default",mode:"query",model:"text-davinci-003",temperature:.8,stopSequence:"",maxTokens:2048,prompt:""},{id:"article_translator",name:"Text Translator",mode:"query",model:"text-davinci-003",temperature:.3,stopSequence:"",maxTokens:2048,prompt:"Translate this article into French:\n\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town.\n"},{id:"restaurant_review",name:"Restaurant Review Writer",mode:"query",model:"text-davinci-003",temperature:.8,stopSequence:"",maxTokens:2048,prompt:"Write a review for a French restaurant located in Kagurazaka, Tokyo. Looks like an old restaurant, food is traditional, chef is talkative, it is always full. Not expensive, but not fancy.\n"},{id:"article_corrector",name:"Text Corrector",mode:"query",model:"text-davinci-003",temperature:.2,stopSequence:"",maxTokens:2048,prompt:"Fix the grammar and spelling mistakes in this text:\n\nI wake up at eleben yesderday, I will go bed eary tonigt.\n"},{id:"seo_assistant",name:"SEO Optimizer",mode:"query",model:"text-davinci-003",temperature:.6,stopSequence:"",maxTokens:1024,prompt:"For the following article, write a SEO-friendly and short title, keywords for Google, and a short excerpt to introduce it. Use this format:\n\nTitle: \nKeywords: \nExcerpt:\n\nArticle:\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town."},{id:"wp_assistant",name:"WordPress Assistant",mode:"continuous",model:"text-davinci-003",temperature:.8,stopSequence:"",maxTokens:150,prompt:"Converse as a WordPress expert. Be helpful, friendly, concise, avoid external URLs and commercial solutions.\n\nAI: Hi! How can I help you with WP today?\n"},{id:"casually_fine_tuned",name:"Casually Fined Tuned Tester",mode:"query",model:"text-davinci-003",temperature:.4,stopSequence:"\\n\\n",maxTokens:1024,prompt:"Hello! What's your name?\n\n###\n\n"}],We=[{id:"default",name:"Default",model:"dall-e",maxResults:3,prompt:""},{id:"japan",name:"Ghibli Inspired",model:"dall-e",maxResults:3,prompt:"japan, tokyo, trees, izakaya, anime oil painting, high resolution, ghibli inspired, 4k"},{id:"steampunk",name:"Steampunk Architecture",model:"dall-e",maxResults:3,prompt:"steampunk architecture, exterior view, award-winning architectural photography from magazine, trees, theater"},{id:"modern-illustration",name:"Modern Illustration",model:"dall-e",maxResults:3,prompt:"illustration of a cat, modern design, for the web, cute, happy, 4k, high resolution, trending in artstation"}],qe=[{id:"default",name:"Default",mode:"single",topic:"",topics:"",topicsAreTitles:!1,model:"text-davinci-003",temperature:.8,maxTokens:2048,sectionsCount:2,paragraphsPerSection:3,language:"en",writingStyle:"creative",writingTone:"cheerful",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.\n\nEach heading is between 40 and 60 characters.\n\nUse Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading.\n\nUse Markdown for formatting.\n\nAdd an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ".\n\nStyle: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'}];function Ue(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=wp.element,Ve=He.useMemo,Je=He.useEffect,$e=He.useState,Ke=(He.useRef,function(e){var t=e.options.openai_apikey;return t&&t.length>0?null:React.createElement(React.Fragment,null,React.createElement(Re.G,{style:{marginTop:0,marginBottom:25}},"To use the features of AI Engine, you need to have an OpenAI account and create an API Key. Visit the ",React.createElement("a",{href:"https://beta.openai.com/account/api-keys",target:"_blank"},"OpenAI")," website."))});function Qe(e){return e?e.split("\n").map((function(e){return(e=e.replace(/^\d+\.\s/,"")).startsWith('"')&&(e=e.slice(1)).endsWith('"')&&(e=e.slice(0,-1)),e})).join("\n"):e}var Xe,et,tt,nt,rt=function(e){var t,n,r=(t=$e(Ge[0].value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(t,n)||Ye(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1],i=Ve((function(){var t,n=Ge,r="string"==typeof(null==e?void 0:e.extra_models)?null==e?void 0:e.extra_models:"",a=null!=e&&e.openai_finetunes&&(null==e?void 0:e.openai_finetunes.length)>0?null==e?void 0:e.openai_finetunes.filter((function(e){return e.enabled&&e.model})):[];return a.length&&(n=[].concat(Ue(n),Ue(a.map((function(e){var t=e.model.split(":");return{id:e.model,name:e.suffix,short:"fn-"+t[0],description:"Finetuned",finetuned:!0}}))))),(r=null===(t=r)||void 0===t?void 0:t.split(",").filter((function(e){return e}))).length&&(n=[].concat(Ue(n),Ue(r.map((function(e){return{id:e,name:e,description:"Extra"}}))))),n}),[e]);return Je((function(){var e=i.find((function(e){return e.name.includes("davinci")}));e&&o(e.name)}),[i]),{model:a,models:i,setModel:o,isFineTunedModel:function(e){return!!i.find((function(t){return t.id===e&&t.finetuned}))}}};function at(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ot=function(e){var t=e.title,n=void 0===t?"Settings":t,r=e.options,a=void 0===r?T:r,o=null==a?void 0:a.module_playground,i=null==a?void 0:a.module_generator_content,c=null==a?void 0:a.module_generator_images;return React.createElement(v.B,{title:"AI Engine | ".concat(n),subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i&&React.createElement(b._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_content_generator"}},"Build Content"),c&&React.createElement(b._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_image_generator"}},"Build Images"),o&&React.createElement(b._,{className:"header",icon:"",onClick:function(){return location.href="tools.php?page=mwai_dashboard"}},"Playground"),React.createElement(b._,{className:"header",icon:"tools",onClick:function(){return location.href="admin.php?page=mwai_settings"}},"Settings")))},it=((0,I.ZP)(b._)(Xe||(Xe=at(["\n"]))),I.ZP.div(et||(et=at(["\n  display: flex;\n  justify-content: unset;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 0 2px 0;\n\n  h2 {\n    margin: 7px 0 0 0;\n    padding: 0;\n  }\n"])))),ct=I.ZP.div(tt||(tt=at(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));\n  grid-template-rows: repeat(auto-fit, minmax(30%, 1fr));\n  grid-gap: 10px;\n  margin-top: 20px;\n\n  img, div {\n    width: 100%;\n    cursor: pointer;\n  }\n  .empty-image {\n    width: 100%;\n    padding-bottom: 100%;\n    background-color: #f5f5f5;\n  }\n"]))),lt=I.ZP.div(nt||(nt=at(["\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n\n  .nui-button {\n    margin-bottom: 5px;\n  }\n\n  .neko-textarea {\n    margin-bottom: 5px;\n  }\n\n  .neko-input {\n    margin-bottom: 5px;\n  }\n\n  .form-row {\n    display: flex;\n    .nui-button, .neko-textarea, .neko-input {\n      margin: 0;\n    }\n  }\n\n  .form-row-label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]))),ut=n(7460),st=n.n(ut),ft=n(9995),mt=n(8178),dt=n(9378),pt=n(3676),ht=n(2625),vt=n(776),yt=n(8281),gt=n(4291);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(){kt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==bt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ot(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _t(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ot(o,r,a,i,c,"next",e)}function c(e){Ot(o,r,a,i,c,"throw",e)}i(void 0)}))}}var St=wp.element.useState,Lt=function(){var e=_t(kt().mark((function e(t){var n,r,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/count_posts?postType=").concat(t),{nonce:P});case 2:return a=e.sent,e.abrupt("return",null!=a&&null!==(n=a.count)&&void 0!==n&&n.publish?parseInt(null==a||null===(r=a.count)||void 0===r?void 0:r.publish):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=_t(kt().mark((function e(t){var n,r,a,o=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,(0,E.PV)("".concat(O,"/post_content?postType=").concat(t,"&offset=").concat(n,"&postId=").concat(r),{nonce:P});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Tt=function(e){var t=e.setBuilderData,n=(0,gt.qj)(),r=Et(St("post"),2),a=r[0],o=r[1],i=Et(St(0),2),c=i[0],l=i[1],u=Et(St(!1),2),s=u[0],f=u[1],m=Et(St("Generate 30 questions and answers from this text. Question use a neutral tone. Answers use the same tone as the text."),2),d=m[0],p=m[1],h=Et(St("\n\nUse this format:\n\nQ: \nA: \n\nArticle:\n\n{CONTENT}"),2),v=h[0],y=(h[1],(0,ke.a)({queryKey:["postsCount-"+a],queryFn:function(){return Lt(a)}})),g=y.isLoading,w=y.data,R=s||n.busy||g,x=function(e){if(!e)return[];for(var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=[],r=0;r<t.length;r++)t[r].startsWith("Q:")?n.push({prompt:t[r].slice(2).trim()}):t[r].startsWith("A:")&&(n[n.length-1].completion=t[r].slice(2).trim());return n},k=function(){var e=_t(kt().mark((function e(){var t,r,o,i,c,u,s,f,m,p,h,y,g,b,w=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length>0&&void 0!==w[0]?w[0]:0,r=w.length>1&&void 0!==w[1]?w[1]:void 0,o=w.length>2&&void 0!==w[2]?w[2]:void 0,i=d+v,e.next=6,Pt(a,t,r||void 0);case 6:if(c=e.sent,u=null,s=null,f=null==c?void 0:c.content,m=0,c.success){e.next=16;break}alert(c.message),u=c.message,e.next=35;break;case 16:if(!(f.length<64)){e.next=20;break}console.log("Issue: Content is too short! Skipped.",{content:f}),e.next=35;break;case 20:return i=i.replace("{CONTENT}",f),e.next=23,(0,E.PV)("".concat(O,"/make_completions"),{method:"POST",json:{env:"admin-dataset",session:j,prompt:i,temperature:.8,model:"text-davinci-003",maxTokens:1024,stop:""},signal:o,nonce:P});case 23:if(p=e.sent,s=null==p?void 0:p.data,p.success){e.next=34;break}if("USER-ABORTED"!==(null===(h=p.error)||void 0===h?void 0:h.code)){e.next=30;break}return console.log("User aborted."),n.reset(),e.abrupt("return",{success:!0});case 30:alert(p.message),u=p.message,e.next=35;break;case 34:null!=p&&null!==(y=p.usage)&&void 0!==y&&y.total_tokens&&(m=p.usage.total_tokens,l((function(e){return e+p.usage.total_tokens})));case 35:return g=x(s),b={content:f,prompt:i,rawData:s,entries:g,error:u,tokens:m},console.log("Result:",b),e.abrupt("return",b);case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=_t(kt().mark((function e(){var r,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(0),r=Array.from(Array(w).keys()),a=prompt("There are "+r.length+" entries. If you want to start from a certain entry offset, type it here. Otherwise, just press OK, and everything will be processed."),o=r.map((function(e){return function(){var n=_t(kt().mark((function n(r){var o;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Task "+e),!(a&&e<a)){n.next=3;break}return n.abrupt("return",{success:!0});case 3:return n.next=5,k(e,null,r);case 5:return(o=n.sent).entries&&t((function(e){return[].concat(wt(e),wt(o.entries))})),n.abrupt("return",{success:!0});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),e.next=6,n.start(o);case 6:f(!1),alert("All done!"),n.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=_t(kt().mark((function e(){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(0),null!==(n=prompt("Enter the ID of a post (leave blank to use the very first one)."))){e.next=4;break}return e.abrupt("return");case 4:return f(!0),e.next=7,k(0,n);case 7:r=e.sent,f(!1),r.entries.length?confirm("Got ".concat(r.entries.length," entries! Do you want to add them to your data? If not, they will be displayed in your console."))&&t((function(e){return[].concat(wt(e),wt(r.entries))})):alert("No entries were generated. Check the console for more information.");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{disabled:R,onClick:S},"Single Generate (Test)"),React.createElement(b._,{disabled:R,onClick:function(){return _()}},"Run Bulk Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Based on ",g&&"...",!g&&w),React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:R,name:"postType",style:{width:100,marginLeft:10},onChange:o,value:a},React.createElement(we.Z,{key:"post",id:"post",value:"post",label:"Posts"}),React.createElement(we.Z,{key:"page",id:"page",value:"page",label:"Pages"})),React.createElement(yt.U,{busy:n.busy,style:{marginLeft:10,flex:"auto"},value:n.value,max:n.max,onStopClick:n.stop}),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Tokens: ",c)),React.createElement(Ee.l,{id:"generatePrompt",name:"generatePrompt",rows:2,style:{marginTop:15},value:d,onBlur:p,disabled:R}))};function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ct(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(){Mt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==jt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function zt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zt(o,r,a,i,c,"next",e)}function c(e){zt(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Wt=wp.element,qt=Wt.useState,Ut=Wt.useMemo,Yt=Wt.useRef,Zt=Wt.useEffect,Ht=[{accessor:"row",title:"#",width:15,verticalAlign:"top"},{accessor:"validPrompt",title:"",width:15,verticalAlign:"top"},{accessor:"prompt",title:"Prompt",width:"42%",verticalAlign:"top"},{accessor:"validCompletion",title:"",width:15,verticalAlign:"top"},{accessor:"completion",title:"Completion",width:"42%",verticalAlign:"top"},{accessor:"actions",title:"",width:55,align:"center"}],Vt=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],Jt=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],$t="\n\n###\n\n",Kt="\n\n",Qt=function(e){var t=e.status,n=e.includeText,r=void 0!==n&&n,a=ft.ZP.orange,o=ft.ZP.green,i=ft.ZP.red,c=null;switch(t){case"pending":case"running":c=React.createElement(mt.J,{title:t,icon:"replay",spinning:!0,width:24,color:a});break;case"succeeded":case"processed":c=React.createElement(mt.J,{title:t,icon:"check-circle",width:24,color:o});break;case"failed":c=React.createElement(mt.J,{title:t,icon:"close",width:24,color:i});break;case"cancelled":c=React.createElement(mt.J,{title:t,icon:"close",width:24,color:a});break;default:c=React.createElement(mt.J,{title:t,icon:"alert",width:24,color:a})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:10,marginLeft:5}},t)):c},Xt=function(){var e=Dt(Mt().mark((function e(){var t,n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/openai_files"),{nonce:P});case 2:return n=e.sent,e.abrupt("return",null==n||null===(t=n.files)||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),en=function(){var e=Dt(Mt().mark((function e(){var t,n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/openai_finetunes"),{nonce:P});case 2:return n=e.sent,e.abrupt("return",null==n||null===(t=n.finetunes)||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=Ft(qt(!1),2),i=o[0],c=o[1],l=function(e){c(!1),e!==n&&a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&&l(n)},style:{height:"100%",display:"flex",flexDirection:"column"}},React.createElement(Ee.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%"},onEnter:l,onBlur:l,value:n}),React.createElement(b._,{onClick:l,fullWidth:!0,style:{marginTop:5,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return c(!0)}},t)};const nn=function(e){var t,n,r,a=e.options,o=e.updateOption,i=(0,u.NL)(),c=Ft(qt(),2),l=c[0],s=c[1],f=Ft(qt(!1),2),m=f[0],d=f[1],p=Ft(qt("finetunes"),2),h=p[0],v=p[1],y=Ft(qt("editor"),2),g=y[0],w=y[1],R=Ft(qt(!0),2),x=R[0],k=R[1],_=rt(a),S=_.models,L=_.model,T=_.setModel,j=Ft(qt("meow"),2),C=j[0],N=j[1],I=(0,ke.a)({queryKey:["datasets"],queryFn:Xt}),A=I.isLoading,F=(I.error,I.data),G=(0,ke.a)({queryKey:["finetunes"],queryFn:en}),B=(G.isLoading,G.error,G.data),M=(null==a?void 0:a.openai_finetunes_deleted)||[],z=10,D=Ft(qt(!0),2),W=D[0],q=D[1],U=Ft(qt(1),2),Y=U[0],Z=U[1],H=Ft(qt([]),2),V=H[0],J=H[1],$=Ft(qt(""),2),K=$[0],Q=$[1],X=Ut((function(){return V.length}),[V]),ee=function(){var e=Dt(Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Dt(Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ee();case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Dt(Mt().mark((function e(){var t,n,r,a,o;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,n=C,r=S.find((function(e){return e.id===L})),d(!0),a=r.short.startsWith("fn-"),e.next=7,(0,E.PV)("".concat(O,"/openai_files_finetune"),{method:"POST",nonce:P,json:{fileId:t,model:a?r.id:r.short,suffix:n}});case 7:if(!(o=e.sent).success){e.next=16;break}return e.next=11,re();case 11:alert("Fine-tuning started! Check its progress in the 'Models' section. Depending on your dataset size, it may take a while (from a few minutes to days)."),v("finetunes"),s(),e.next=17;break;case 16:alert(o.message);case 17:d(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Dt(Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.invalidateQueries("finetunes");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Dt(Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,re();case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&!confirm("This will delete all the rows in the builder. Are you sure?")||(J([]),ce([]))},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=V.map((function(r,a){return a===e-1?It(It({},r),{},n?{completion:t}:{prompt:t}):r}));J(r)};Zt((function(){if(!V||0===V.length){var e=localStorage.getItem("mwai_builder_data");e&&J(JSON.parse(e))}}),[]);var ce=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),Q("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data"),q(!0)}catch(e){localStorage.removeItem("mwai_builder_data"),q(!1)}};Zt((function(){V&&V.length>0&&ce(V)}),[V]);var le=Ut((function(){var e=(Y-1)*z,t=null==V?void 0:V.slice((Y-1)*z,(Y-1)*z+z);return null==t?void 0:t.map((function(t){var n,r,a=++e,o=null==t||null===(n=t.prompt)||void 0===n?void 0:n.toString().endsWith($t),i=null==t||null===(r=t.completion)||void 0===r?void 0:r.toString().endsWith(Kt);return{row:a,validPrompt:o?"✅":"❌",prompt:React.createElement(tn,{data:t.prompt,onChange:function(e){return ie(a,e)}},o?t.prompt.substring(0,t.prompt.length-$t.length):t.prompt),validCompletion:i?"✅":"❌",completion:React.createElement(tn,{data:t.completion,onChange:function(e){return ie(a,e,!0)}},i?t.completion.substring(0,t.completion.length-Kt.length):t.completion),actions:React.createElement(b._,{rounded:!0,icon:"trash",onClick:function(){return function(e){var t=V.filter((function(t,n){return n!==e-1}));J(t),0===t.length&&ce([])}(a)}})}}))}),[V,Y,z]),ue=function(){var e=Dt(Mt().mark((function e(t){var n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,(0,E.PV)("".concat(O,"/openai_files"),{method:"DELETE",nonce:P,json:{fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,ee();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("Error! Check your console.");case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Dt(Mt().mark((function e(t){var n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("You are going to delete this fine-tune. Are you sure?\n\nPlease note that it will take a while before it is actually deleted. This might be a temporary issue of OpenAI.")){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.prev=3,e.next=6,(0,E.PV)("".concat(O,"/openai_finetunes"),{method:"DELETE",nonce:P,json:{modelId:t}});case 6:if(!(n=e.sent).success){e.next=14;break}return e.next=10,o([].concat(Ct(M),[t]),"openai_finetunes_deleted");case 10:return e.next=12,re();case 12:e.next=23;break;case 14:if(!(n.message.indexOf("does not exist")>-1)){e.next=22;break}return alert("This fine-tune was already deleted. It will be removed from the list."),e.next=18,o([].concat(Ct(M),[t]),"openai_finetunes_deleted");case 18:return e.next=20,re();case 20:e.next=23;break;case 22:alert(n.message);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(3),console.log(e.t0),alert("Error! Check your console.");case 29:d(!1);case 30:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Dt(Mt().mark((function e(t,n){var r,a,o,i;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,console.log({fileId:t,filename:n}),e.next=5,(0,E.PV)("".concat(O,"/openai_files_download"),{method:"POST",nonce:P,json:{fileId:t}});case 5:(r=e.sent).success?(console.log(r),a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),alert("Error! Check your console.");case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),me=Ut((function(){return null==F?void 0:F.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(Qt,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,E.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(b._,{disabled:!a,icon:"wand",onClick:function(){return s(t)}},"Train Model"),React.createElement(b._,{rounded:!0,icon:"arrow-down",onClick:function(){return fe(t,n)}}),React.createElement(b._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return ue(t)}}))}}))}),[F]),de=Ut((function(){return B?B.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.fine_tuned_model,n=new Date(1e3*e.created_at);return{status:React.createElement(Qt,{status:e.status,includeText:!0}),id:e.id,suffix:e.suffix,model:e.fine_tuned_model,base_model:e.model,createdOn:React.createElement(React.Fragment,null,n.toLocaleDateString(),React.createElement("br",null),n.toLocaleTimeString()),actions:React.createElement(b._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return se(t)}})}})):[]}),[B]),pe=A||m,he=function(){var e=Dt(Mt().mark((function e(){var t,n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t=V.map((function(e){return JSON.stringify(e)})).join("\n"),console.log(t),e.next=6,(0,E.PV)("".concat(O,"/openai_files"),{method:"POST",nonce:P,json:{filename:K,data:t}});case 6:return n=e.sent,e.next=9,ee();case 9:n.success?(oe(!1),alert("Uploaded successfully! You can now train a model based on this dataset."),v("files"),k(!0)):alert(n.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("Error! Check your console.");case 16:d(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ve=Ut((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),c=S.find((function(e){return e.id===L}));return"".concat(null==c?void 0:c.short,":ft-your-org:").concat(C,"-").concat(t,"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r,"-").concat(a<10?"0"+a:a,"-").concat(o<10?"0"+o:o,"-").concat(i<10?"0"+i:i)}),[C,L]),Ee=function(){var e=Dt(Mt().mark((function e(t){var n,r;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mt().mark((function e(){var n,a,o,i,c;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),c=n.name.endsWith(".csv"),o||i||c){e.next=9;break}return alert("This only supports JSON, JSONL, and CSV files."),console.log(n),e.abrupt("return","continue");case 9:a.onload=function(){var e=Dt(Mt().mark((function e(t){var n,r,a,l,u,s,f;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.log(t,e),null}}))):c&&(l=st().parse(n,{header:!0,skipEmptyLines:!0}),r=l.data,console.log("The CSV was loaded.",r)),u=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}),n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","answer","a"].find((function(e){return t[e]}));return{prompt:t[n],completion:t[r]}})),s=u.filter((function(e){return e.prompt&&e.completion})),u.length!==s.length&&(alert("Some are were empty. Make sure the CSV has a header row and that the columns are named 'prompt' and 'completion'. For debugging, an empty line was logged to the console."),f=u.find((function(e){return!e.prompt||!e.completion})),console.log("Empty line: ",f)),J(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 11:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){e.next=10;break}return e.delegateYield(n(),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:r++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=Yt(null);return React.createElement(React.Fragment,null,React.createElement(ge.H,{style:{margin:10},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("div",{style:{marginRight:15}},React.createElement(dt.Q,{onLabel:"Model Finetune",offLabel:"Dataset Builder",width:145,onBackgroundColor:ft.ZP.purple,offBackgroundColor:ft.ZP.green,onChange:k,checked:x})),x&&React.createElement(xe.h,{value:h,busy:pe,onChange:function(e){v(e)}},React.createElement(xe.S,{title:"Models",value:"finetunes",count:null!==(t=null==de?void 0:de.length)&&void 0!==t?t:null}),React.createElement(xe.S,{title:"Datasets",value:"files",count:null!==(n=null==me?void 0:me.length)&&void 0!==n?n:null})),x&&"finetunes"===h&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(b._,{disabled:m,onClick:ae,className:"primary"},"Refresh Models")),x&&"files"===h&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(b._,{disabled:m,onClick:te,className:"primary"},"Refresh Datasets")),!x&&React.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},React.createElement(xe.h,{value:g,onChange:function(e){w(e)}},React.createElement(xe.S,{title:"Entries Editor",value:"editor",count:null!==(r=null==V?void 0:V.length)&&void 0!==r?r:null}),React.createElement(xe.S,{title:"Entries Generator",value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(ye.A,{disabled:!X||m,value:X?K:"",onChange:Q,style:{width:210,marginRight:5}}),React.createElement(b._,{disabled:!X||m,icon:"upload",onClick:he,className:"primary"},"Upload to OpenAI"))))),React.createElement(ge.H,{style:{margin:10}},x&&"finetunes"===h&&React.createElement(React.Fragment,null,React.createElement("p",null,"The AI models you have fine-tuned. To create more, visit ",React.createElement("b",null,"Datasets"),"."),React.createElement(pt.a,{alternateRowColor:!0,busy:pe,data:de,columns:Jt,emptyMessage:React.createElement(React.Fragment,null,"You do not have any fine-tuned jobs yet.")})),x&&"files"===h&&React.createElement(React.Fragment,null,React.createElement("p",null,"The datasets you have uploaded to OpenAI. To create a new dataset, switch from ",React.createElement("b",null,"Model Finetuner")," to ",React.createElement("b",null,"Dataset Builder"),". To train a new model, click on the ",React.createElement("i",null,"magic wand"),"."),React.createElement(pt.a,{alternateRowColor:!0,busy:pe,data:me,columns:Vt,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!x&&"generator"===g&&React.createElement(React.Fragment,null,React.createElement(Tt,{setBuilderData:J})),!x&&"editor"===g&&React.createElement(React.Fragment,null,!W&&React.createElement("p",{style:{color:ft.ZP.red}},"Caution: The data is too large to be saved in your browser's local storage."),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{icon:"plus",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Text...\n\n###\n\n",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Text...\n\n";console.log(e,t),J([].concat(Ct(V),[{prompt:e,completion:t}]))}()}},"Add Entry"),React.createElement(b._,{disabled:!X,className:"secondary",onClick:function(){var e=V.map((function(e){var t=e.prompt,n=e.completion;return t.endsWith($t)||(t=t.trim(),t+=$t),n.endsWith(Kt)||(n=n.trim(),n+=Kt),{prompt:t,completion:n}}));J(e)}},"Format with Defaults"),React.createElement(ht.b,{ref:_e,onSelectFiles:Ee,accept:"",style:{paddingLeft:5}},React.createElement(b._,{className:"secondary",onClick:function(){return _e.current.click()}},"Import File")),React.createElement(b._,{disabled:!X,className:"secondary",style:{marginLeft:5},onClick:function(){var e=st().unparse(V),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.csv");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as CSV"),React.createElement(b._,{disabled:!X,onClick:oe,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(vt.Q,{currentPage:Y,limit:z,total:X,onCurrentPageChanged:Z,onClick:Z}))),!x&&React.createElement(React.Fragment,null,React.createElement(be.i,{height:20}),React.createElement(pt.a,{alternateRowColor:!0,busy:m,data:le,columns:Ht,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add Entry"),".")}),React.createElement(be.i,{height:20}),React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(vt.Q,{currentPage:Y,limit:z,total:X,onCurrentPageChanged:Z,onClick:Z})),React.createElement(be.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===g&&React.createElement(Re.G,{style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===g&&React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI")," 😎 Some extra notes for you:"),React.createElement("ul",null,React.createElement("li",null,"• The prompt and the completion should both end with their own special endings. By default, it is ",React.createElement("b",null,"\\n\\n===\\n\\n")," for the prompt, and ",React.createElement("b",null,"\\n\\n")," for the completion. The icon ✅ will be shown next to the prompt and/or completion when this format has been validated, and the ending will be hidden for clarity. I refer to this format (and models trained on it) by the term of ",React.createElement("b",null,"Casually Fine Tuned"),"."),React.createElement("li",null,"• ",React.createElement("b",null,"\\n")," is a line break. You can add line breaks by using ",React.createElement("b",null,"SHIFT+ENTER")," while editing."),React.createElement("li",null," • The ",React.createElement("b",null,"Format with Defaults")," button will add the ",React.createElement("i",null,"Casually Fine Tuned")," endings format to the prompt and completion, if they are missing."),React.createElement("li",null,"• If you need the chatbot to work with a ",React.createElement("b",null,"Casually Fined Tuned")," model, you can add ",React.createElement("i",null,'casually_fine_tuned="true"'),"  in the shortcode.")))),React.createElement(Oe.L,{isOpen:l,title:"Train a new model",onOkClick:ne,onRequestClose:function(){return s()},onCancelClick:function(){return s()},ok:"Start",disabled:m,content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(be.i,{height:5}),React.createElement(we.N,{id:"models",value:L,scrolldown:!0,onChange:T},S.map((function(e){return React.createElement(we.Z,{value:e.id,label:e.name})}))),React.createElement(be.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(be.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(be.i,{height:5}),React.createElement(ye.A,{value:C,onChange:N}),React.createElement(be.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank"},"prefix"),". Preview: ",React.createElement("b",null,ve),"."))})))};var rn,an,on,cn=wp.element,ln=(cn.useState,cn.useEffect,cn.useMemo,I.ZP.div(rn||(an=["\n  display: flex;\n  flex-direction: column;\n  color: white;\n  width: 100%;\n  margin-top: -20px;\n\n  h3 {\n    color: white;\n  }\n\n  .description {\n    background: white;\n    color: black;\n    padding: 8px 10px;\n    border-radius: 5px;\n\n    p {\n      small {\n        color: ",";\n        font-size: 13px;\n      }\n    }\n\n    p:first-child {\n      margin-top: 0;\n    }\n\n    p:last-child {\n      margin-bottom: 0;\n    }\n  }\n"],on||(on=an.slice(0)),rn=Object.freeze(Object.defineProperties(an,{raw:{value:Object.freeze(on)}}))),ft.ZP.orange));const un=function(e){var t,n,r=e.incidents,a=e.isLoading,o=(t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),((t-n)/36e5).toFixed(0));return React.createElement("div",{style:{padding:"0px 10px 10px 10px"}},React.createElement(f.O,{p:!0,style:{color:"white"}},"Only the incidents which occured ",React.createElement("b",null,"less than a week ago")," are displayed here. For your information, the time difference between the PST time used by OpenAI and your local time is ",o," hours."),React.createElement(ln,null,a&&React.createElement("div",null,"Loading..."),r&&r.map((function(e){return React.createElement("div",{key:e.guid},React.createElement("h3",null,"⚠️ ",e.date,": ",e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))}))))};var sn,fn,mn;function dn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pn,hn=I.ZP.div(sn||(sn=dn(["\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n\n  h2 {\n    margin-bottom: 8px;\n  }\n  \n  h3:first-child {\n    margin-top: 0;\n  }\n\n  label {\n    display: block;\n    margin-bottom: 5px;\n  }\n\n  label {\n    margin-top: 10px;\n  }\n\n  ul {\n    margin: 20px 0 0 0;\n  }\n\n  li {\n    margin-bottom: 5px;\n    border: 1px solid #e5e5e5;\n    padding: 8px;\n    background: #f5f5f5;\n    border-radius: 5px;\n    cursor: pointer;\n    position: relative;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n\n    &.active {\n      background: #007cba;\n      color: white;\n      border-color: #007cba;\n\n      &.modified {\n        background: #ff8c00;\n        border-color: #ff8c00;\n      }\n    }\n  }\n\n  .information {\n    color: #a3a3a3;\n    margin-top: 5px;\n    font-size: 12px;\n    line-height: 100%;\n  }\n"]))),vn=(0,I.ZP)(ye.A)(fn||(fn=dn(["\n  flex: auto !important;\n\n  input {\n    height: 50px !important;\n    font-size: 13px !important;\n    font-family: monospace !important;\n    padding: 20px !important;\n    border-color: #333d4e !important;\n    background: #333d4e !important;\n    color: white !important;\n  }\n"]))),yn=I.ZP.div(mn||(mn=dn(["\n  display: flex;\n  flex-direction: column;\n\n  label {\n    margin-bottom: 3px;\n  }\n\n  .mwai-builder-row {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .neko-color-picker {\n      margin-left: 5px;\n    }\n  }\n\n  .mwai-builder-col {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    margin-right: 5px;\n  }\n\n  .mwai-builder-col:last-child {\n    margin-right: 0;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    background: #d4f0ff;\n    color: #037cba;\n    padding: 10px;\n    font-size: 13px;\n    font-weight: bold;\n    margin: 20px 0;\n  }\n\n  .neko-spacer {\n    margin-bottom: 0 !important;\n  }\n\n  .neko-input {\n  }\n\n  .nui-select-option {\n  }\n\n\n"]))),gn=n(5651);function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En=wp.element,Rn=En.useState,xn=En.useEffect,kn=En.useRef,On=En.useCallback,_n=I.ZP.div(pn||(pn=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n\n  .swatch {\n    width: 24px;\n    height: 24px;\n    border-radius: 8px;\n    border: 3px solid #fff;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n  }\n  \n  .popover {\n    position: absolute;\n    top: -210px;\n    left: -80px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n    z-index: 9999;\n  }\n"]))),Sn=function(e){var t,n,r=e.name,a=e.value,o=e.onChange,i=kn(),c=bn(Rn(!1),2),l=c[0],u=c[1],s=bn(Rn(a),2),f=s[0],m=s[1],d=On((function(){f!==a&&o(f,r),u(!1)}),[f,a]);return xn((function(){var e=!1,r=!1,a=function(a){!e&&r&&t.current&&!t.current.contains(a.target)&&n(a)},o=function(n){r=t.current,e=t.current&&t.current.contains(n.target)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("click",a),function(){document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("click",a)}}),[t=i,n=d]),React.createElement(_n,{className:"neko-color-picker"},React.createElement("div",{className:"swatch",style:{backgroundColor:f},onClick:function(){return u(!0)}}),l&&React.createElement("div",{className:"popover",ref:i},React.createElement(gn.gW,{color:f,onChange:m})))};function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(){jn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Ln(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ln(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){An(o,r,a,i,c,"next",e)}function c(e){An(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Gn=wp.element,Bn=Gn.useMemo,Mn=Gn.useState,zn=["chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"],Dn=function(){var e=Fn(jn().mark((function e(){var t,n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/openai_incidents"),{nonce:P});case 2:if(null==(t=e.sent)||!t.incidents){e.next=6;break}return n=t.incidents.map((function(e){var t=e.date,n=(t=new Date(1e3*t)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});return Nn(Nn({},e),{},{date:n})})),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Wn=function(){var e,t,n,r,a,o,i,c,l,u,s,v,k,j,N,I,A,F,G,B,M,z=Pn(Mn(T),2),D=z[0],W=z[1],q=Pn(Mn(!1),2),U=q[0],Y=q[1],Z=Pn(Mn("users"),2),H=Z[0],V=Z[1],J=rt(D),$=J.models,K=J.isFineTunedModel,Q=null==D?void 0:D.shortcode_chat_default_params,X=null==D?void 0:D.shortcode_chat_params,ee=null==D?void 0:D.shortcode_chat_styles,te=null==D?void 0:D.shortcode_chat_params_override,ne=null==D?void 0:D.shortcode_chat_inject,re=null==D?void 0:D.module_titles,ae=null==D?void 0:D.module_excerpts,oe=null==D?void 0:D.module_woocommerce,ie=null==D?void 0:D.module_forms,ce=null==D?void 0:D.module_blocks,le=null==D?void 0:D.module_statistics,ue=null==D?void 0:D.module_playground,se=null==D?void 0:D.module_generator_content,fe=null==D?void 0:D.module_generator_images,me=null==D?void 0:D.limits,de=null==D?void 0:D.default_limits,pe=null==D?void 0:D.shortcode_chat,he=null==D?void 0:D.shortcode_chat_formatting,ve=null!=D&&D.openai_apikey?null==D?void 0:D.openai_apikey:"",Oe=null==D?void 0:D.openai_usage,_e=null==D?void 0:D.shortcode_chat_syntax_highlighting,Se=null==D?void 0:D.extra_models,Le=null==D?void 0:D.debug_mode,Pe="chat"===X.mode,Te="images"===X.mode,je=(0,ke.a)({queryKey:["openAI_status"],queryFn:Dn}),Ce=je.isLoading,Ne=je.data,Ie=null!=ee&&ee.icon?ee.icon:"chat-color-green.svg",Ae=null==Ne?void 0:Ne.filter((function(e){return new Date(e.date)>new Date(Date.now()-864e5)})).length,Ge=U,Be=Bn((function(){var e={};if(te)return e;for(var t in Q)Q[t]!==X[t]&&(e[t]=X[t]);return Pe&&(delete e.mode,delete e.max_results),Te&&(delete e.context,delete e.content_aware,delete e.casually_fine_tuned,delete e.model,delete e.max_tokens,delete e.temperature),e}),[te,Q,X]),Me=Bn((function(){var e=[];for(var t in Be)void 0!==X[t]&&e.push("".concat(t,'="').concat(X[t],'"'));var n=e.join(" ");return"[mwai_chat"+(n?" ".concat(n):"")+"]"}),[Be]),ze=function(){var e=Fn(jn().mark((function e(t,n){var r,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(Nn({},D),{},In({},n,t)),Y(!0),e.prev=2,e.next=5,(0,E.PV)("".concat(O,"/update_option"),{method:"POST",nonce:P,json:{options:r}});case 5:(a=e.sent).success&&W(a.options),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:return e.prev=12,Y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Fn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(Nn({},X),{},In({},n,t)),e.next=3,ze(r,"shortcode_chat_params");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Fn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(Nn({},me),{},In({},n,t)),e.next=3,ze(r,"limits");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(){var e=Fn(jn().mark((function e(t,n){var r,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&&(t=Math.max(0,t)),r=Nn(Nn({},me.users),{},In({},n,t)),a=Nn(Nn({},me),{},{users:r}),e.next=5,ze(a,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Fn(jn().mark((function e(t,n){var r,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&&(t=Math.max(0,t)),r=Nn(Nn({},me.guests),{},In({},n,t)),a=Nn(Nn({},me),{},{guests:r}),e.next=5,ze(a,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Fn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return r=Nn(Nn({},ee),{},In({},n,t)),e.next=4,ze(r,"shortcode_chat_styles");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Fn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(Q,"shortcode_chat_params");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Fn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze({},"shortcode_chat_styles");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Fn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(de),e.next=3,ze(de,"limits");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=React.createElement(m.r,{title:"Assistants"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"module_titles",label:"Titles Suggestions",value:"1",checked:re,description:"Suggest a few titles based on your content.",onChange:ze}),React.createElement(p.P,{id:"module_excerpts",label:"Excerpt Suggestions",value:"1",checked:ae,description:"Suggest a few excerpts based on your content.",onChange:ze}),React.createElement(p.P,{id:"module_woocommerce",label:"WooCommerce Product Generator",value:"1",checked:oe,description:"Write all the WooCommerce fields for a given product.",onChange:ze}))),$e=React.createElement(m.r,{title:"Generators"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"module_generator_content",label:"Content Generator",value:"1",checked:se,description:"Write articles for you. Create templates, and re-use them.",onChange:ze}),React.createElement(p.P,{id:"module_generator_images",label:"Images Generator",value:"1",checked:fe,description:"Generate images for you. Create templates, and re-use them.",onChange:ze}))),Qe=React.createElement(m.r,{title:"Playground"},React.createElement(p.P,{id:"module_playground",label:"Enable",value:"1",checked:ue,description:"You can do everything with the Playground! Use Templates to boost your productivity.",onChange:ze})),Xe=React.createElement(m.r,{title:React.createElement(React.Fragment,null,"Forms",React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(p.P,{id:"module_forms",label:"Enable",value:"1",checked:ie,requirePro:!0,isPro:L,description:"Create AI Forms. Based on fields, users will be given answers or suggestions. Works with shortcodes and Gutenberg blocks.",onChange:ze})),et=React.createElement(m.r,{title:React.createElement(React.Fragment,null,"Statistics",React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(p.P,{id:"module_statistics",label:"Enable Statistics & Limits",value:"1",checked:le,requirePro:!0,isPro:L,description:"Track interactions with the AI based on the user, session, type, price, etc. This allows to set limits, and more!",onChange:ze})),tt=React.createElement(m.r,{title:"Gutenberg Blocks"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{label:"Enable",disabled:!0,value:"1",checked:ce,description:"Additional blocks. Let me know your ideas!",onChange:ze}))),nt=React.createElement(m.r,{title:"Chatbot"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"shortcode_chat",label:"Enable",value:"1",checked:pe,description:"A chatbot that can be similar to ChatGPT. But it has many features! Check the Chatbot tab.",onChange:ze}))),at=React.createElement(m.r,{title:"Formatting"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"shortcode_chat_formatting",label:"Enable",value:"1",checked:he,description:React.createElement(React.Fragment,null,"Convert the reply from the AI into HTML. ",React.createElement("b",null,"Markdown is supported, so it is highly recommended to add 'Use Markdown.' in your context.")),onChange:ze}))),it=React.createElement(m.r,{title:"Code"},React.createElement(d.l,{max:"1"},React.createElement(p.P,{id:"shortcode_chat_syntax_highlighting",label:"Use Syntax Highlighting",value:"1",checked:_e,description:React.createElement(React.Fragment,null,"Add syntax coloring to the code written by the chatbot."),onChange:ze}))),ct=React.createElement(m.r,{title:"Extra Models"},React.createElement(ye.A,{id:"extra_models",name:"extra_models",value:Se,description:React.createElement(React.Fragment,null,"You can enter additional models you would like to use (separated by a comma). Note that your fine-tuned models are already available."),onBlur:ze})),lt=React.createElement(m.r,{title:"Debug Mode"},React.createElement(p.P,{id:"debug_mode",label:"Enable",value:"1",checked:Le,description:React.createElement(React.Fragment,null,"More information will be made available in/through the console."),onChange:ze})),ut=React.createElement(m.r,{title:"API Key"},React.createElement(ye.A,{id:"openai_apikey",name:"openai_apikey",value:ve,description:React.createElement(React.Fragment,null,"You can get your API Keys in your ",React.createElement("a",{href:"https://beta.openai.com/account/api-keys",target:"_blank"},"OpenAI Account"),"."),onBlur:ze})),st=Bn((function(){var e={};try{Object.keys(Oe).forEach((function(t){var n=Oe[t];e[t]||(e[t]={totalPrice:0,data:[]}),Object.keys(n).forEach((function(r){var a=n[r],o=0,i=$.find((function(e){return e.id===r}));if("dall-e"===r){var c=C.find((function(e){return"dall-e"===e.model})).options.find((function(e){return"1024x1024"===e.option})),l=a.images*c.price;return e[t].totalPrice+=l,void e[t].data.push({name:"dall-e",isImage:!0,usage:a.images,price:l})}if(i){var u=C.find((function(e){return e.model===i.short}));if(u){o=a.total_tokens/1e3*u.price,e[t].totalPrice+=o;var s=i?i.name:r;e[t].data.push({name:s,isImage:!1,usage:a.total_tokens,price:o})}else console.log("Cannot find price for model ".concat(r,"."))}else console.warn("Monthly Usage was detected for a removed model (".concat(r,")."))}))})),Object.keys(e).forEach((function(t){e[t].data.sort((function(e,t){return t.price-e.price}))}))}catch(e){console.log(e)}return React.createElement("ul",{style:{marginTop:2}},Object.keys(e).map((function(t,n){return React.createElement("li",{key:n},React.createElement("strong",null,"🗓️ ",t," (",e[t].totalPrice.toFixed(2),"$)"),React.createElement("ul",null,e[t].data.map((function(e,t){return React.createElement("li",{key:t,style:{marginTop:5,marginLeft:18}},React.createElement("strong",null,"• ",e.name),e.isImage&&": ".concat(e.usage," images"),!e.isImage&&": ".concat(e.usage," tokens"),e.price>0&&" (".concat(e.price.toFixed(2),"$)"))}))))})))}),[Oe,$]),ft=React.createElement("div",null,React.createElement("h3",null,"Usage"),React.createElement("div",{style:{marginTop:-10,marginBottom:10,fontSize:12}},"For the exact amounts, please check your ",React.createElement("a",{href:"https://beta.openai.com/account/usage",target:"_blank"},"OpenAI account"),". If you would like to have better control on the amounts, add conditions or set limits to the usage of the AI, consider ",React.createElement("a",{href:"https://meowapps.com/ai-engine/",target:"_blank"},"AI Engine Pro"),"."),!Object.keys(Oe).length&&React.createElement(f.O,{p:!0},"N/A"),Oe&&React.createElement(React.Fragment,null,st)),mt=K(X.model),dt=X.content_aware,pt=X.context&&X.context.includes("{CONTENT}");return React.createElement(h.s,null,React.createElement(ot,{options:D}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(Ke,{options:D}),React.createElement(ge.H,null,React.createElement(f.O,{p:!0},"Boost your WordPress with AI! Don't forget to visit the ",React.createElement("a",{href:"https://meowapps.com/ai-engine/",target:"_blank"},"AI Engine website")," for more information. Have fun! 🎵")),React.createElement(g.c,{keepTabOnReload:!0},React.createElement(g.P,{title:"Settings"},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(w.v,{busy:Ge,title:"Modules",className:"primary"},React.createElement("p",null,"To avoid cluttering the UI and your WP, only enable the features you need."),React.createElement(be.i,{height:50}),nt,$e,Qe,Je,Xe,et,tt),React.createElement(w.v,{busy:Ge,title:"Advanced",className:"primary"},ct,lt)),React.createElement(y.z,{minimal:!0},React.createElement(w.v,{busy:Ge,title:"Open AI",className:"primary"},ut,ft)))),pe&&React.createElement(g.P,{title:"Chatbot"},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(w.v,{className:"primary"},React.createElement(f.O,{p:!0},React.createElement("p",null,"If you only need one chatbot, set your parameters in the Chatbot Builder, and click on ",React.createElement("b",null,"Set as Default Parameters"),". You can then use the shortcode ",React.createElement("b",null,"[mwai_chat]")," anywhere on your website. You can also add the chatbot everywhere automatically by using ",React.createElement("b",null,"Inject Default Chatbot"),"."),React.createElement("p",null,"You can have multiple chatbots on your website (or same page), each with different parameters. Setting an ID will memorize the conversation in the browser, Content Aware will make the content of your page available to the context (",React.createElement("a",{href:"https://meowapps.com/ai-engine/tutorial/#content-aware-bot",target:"_blank"},"read this"),"), and removing the AI Name and User Name will switch to avatars (similar to ChatGPT). Enjoy! 😎"))),React.createElement(w.v,{busy:Ge,title:"Features",className:"primary"},at,it),React.createElement(w.v,{busy:Ge,title:"Styles",className:"primary",action:React.createElement(b._,{className:"danger",onClick:He},"Reset Styles")},React.createElement(yn,null,React.createElement("p",null,"Keep in mind that you can also style the chatbot (or aspecific chatbot, if you use many) by injecting CSS. Have a look ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/tutorial/#apply-custom-style-to-the-chatbot"},"here"),". Header Buttons are the ones used to close or resize the Popup Window. For more, check the ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/faq"},"FAQ"),"."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Spacing:"),React.createElement(ye.A,{id:"spacing",name:"spacing",value:null!==(e=null==ee?void 0:ee.spacing)&&void 0!==e?e:"15px",onBlur:Ye})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Font Size:"),React.createElement(ye.A,{id:"fontSize",name:"fontSize",value:null!==(t=null==ee?void 0:ee.fontSize)&&void 0!==t?t:"15px",onBlur:Ye})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Border Radius:"),React.createElement(ye.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==ee?void 0:ee.borderRadius)&&void 0!==n?n:"10px",onBlur:Ye}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Font Color:"),React.createElement("div",{style:{display:"flex"}},React.createElement(ye.A,{id:"fontColor",name:"fontColor",value:null!==(r=null==ee?void 0:ee.fontColor)&&void 0!==r?r:"#FFFFFF",onBlur:Ye}),React.createElement(Sn,{id:"fontColor",name:"fontColor",value:null!==(a=null==ee?void 0:ee.fontColor)&&void 0!==a?a:"#FFFFFF",onChange:Ye}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Back Primary Color:"),React.createElement("div",{style:{display:"flex"}},React.createElement(ye.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(o=null==ee?void 0:ee.backgroundPrimaryColor)&&void 0!==o?o:"#454654",onBlur:Ye}),React.createElement(Sn,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(i=null==ee?void 0:ee.backgroundPrimaryColor)&&void 0!==i?i:"#454654",onChange:Ye}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Back Secondary Color:"),React.createElement("div",{style:{display:"flex"}},React.createElement(ye.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(c=null==ee?void 0:ee.backgroundSecondaryColor)&&void 0!==c?c:"#343541",onBlur:Ye}),React.createElement(Sn,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(l=null==ee?void 0:ee.backgroundSecondaryColor)&&void 0!==l?l:"#343541",onChange:Ye})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Header Buttons Color:"),React.createElement("div",{style:{display:"flex"}},React.createElement(ye.A,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(u=null==ee?void 0:ee.headerButtonsColor)&&void 0!==u?u:"#FFFFFF",onBlur:Ye}),React.createElement(Sn,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(s=null==ee?void 0:ee.headerButtonsColor)&&void 0!==s?s:"#FFFFFF",onChange:Ye}))),React.createElement("div",{className:"mwai-builder-col"}),React.createElement("div",{className:"mwai-builder-col"})),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:"auto"}},React.createElement("label",null,"Icon for Popup Window Chatbot:"),React.createElement("div",{style:{display:"flex"}},zn.map((function(e){return React.createElement(React.Fragment,null,React.createElement("img",{style:{marginRight:5,cursor:"pointer"},width:28,height:28,src:"".concat(_,"/images/").concat(e),onClick:function(){Ye(e,"icon")}}))})))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0},width:64,height:64,src:"".concat(_,"/images/").concat(Ie)})))))),React.createElement(y.z,{minimal:!0},React.createElement(w.v,{busy:Ge,title:"Chatbot Builder",className:"primary",action:React.createElement(b._,{className:"danger",onClick:Ze},"Reset Parameters")},React.createElement(yn,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===X.mode?76:"inherit"}},React.createElement("label",null,"Mode:"),React.createElement(we.N,{scrolldown:!0,id:"mode",name:"mode",value:X.mode,onChange:De},React.createElement(we.Z,{value:"chat",label:"Chat"}),React.createElement(we.Z,{value:"images",label:"Images"}))),Pe&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,"Context:"),React.createElement(Ee.l,{id:"context",name:"context",rows:2,value:X.context,onBlur:De})),Te&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,"Max Results (= Number of Images):"),React.createElement(ye.A,{id:"max_results",name:"max_results",type:"number",value:X.max_results,onBlur:De}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"AI Name:"),React.createElement(ye.A,{id:"ai_name",name:"ai_name",value:X.ai_name,onBlur:De})),React.createElement("div",{className:"mwai-builder-col",style:{flex:4}},React.createElement("label",null,"Start Sentence:"),React.createElement(ye.A,{id:"start_sentence",name:"start_sentence",value:X.start_sentence,onBlur:De}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"User Name:"),React.createElement(ye.A,{id:"user_name",name:"user_name",value:X.user_name,onBlur:De})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,"Placeholder:"),React.createElement(ye.A,{id:"text_input_placeholder",name:"text_input_placeholder",value:X.text_input_placeholder,onBlur:De})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Send:"),React.createElement(ye.A,{id:"text_send",name:"text_send",value:X.text_send,onBlur:De})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Clear:"),React.createElement(ye.A,{id:"text_clear",name:"text_clear",value:X.text_clear,onBlur:De}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Style:"),React.createElement(we.N,{scrolldown:!0,id:"style",name:"style",value:X.style,description:"",onChange:De},React.createElement(we.Z,{value:"none",label:"None"}),React.createElement(we.Z,{value:"chatgpt",label:"ChatGPT"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Popup:"),React.createElement(p.P,{id:"window",label:"Yes",checked:X.window,value:"1",onChange:De})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,"Position:"),React.createElement(we.N,{scrolldown:!0,id:"icon_position",name:"icon_position",disabled:!X.window,value:X.icon_position,onChange:De},React.createElement(we.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(we.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(we.Z,{value:"top-right",label:"Top Right"}),React.createElement(we.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Full Screen:"),React.createElement(p.P,{id:"fullscreen",label:"Yes",checked:X.fullscreen,value:"1",onChange:De}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},"ID:"),React.createElement(ye.A,{id:"id",name:"id",type:"text",value:X.id,onBlur:De}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"System Name:"),React.createElement(ye.A,{id:"sys_name",name:"sys_name",value:X.sys_name,onBlur:De})),Pe&&React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Content Aware:"),React.createElement(p.P,{id:"content_aware",label:"Yes",requirePro:!0,isPro:L,checked:X.content_aware,value:"1",onChange:De}))),Pe&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Model:"),React.createElement(we.N,{scrolldown:!0,id:"model",name:"model",value:X.model,description:"",onChange:De},$.map((function(e){return React.createElement(we.Z,{value:e.id,label:e.id})}))))),Pe&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Max Tokens:"),React.createElement(ye.A,{id:"max_tokens",name:"max_tokens",type:"number",min:"10",max:"2048",value:X.max_tokens,onBlur:De})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Temperature:"),React.createElement(ye.A,{id:"temperature",name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:X.temperature,onBlur:De})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,"Casually Fine Tuned:"),React.createElement(p.P,{id:"casually_fine_tuned",label:"Yes",checked:X.casually_fine_tuned,value:"1",onChange:De}))),ne&&!X.window&&React.createElement(Re.G,{style:{marginBottom:0,padding:"10px 15px"}},React.createElement("p",null,"You choose to inject the chatbot in your website. You probably also want to use the chatbot in a Popup Window.")),mt&&!X.casually_fine_tuned&&React.createElement(Re.G,{style:{marginBottom:0,padding:"10px 15px"}},React.createElement("p",null,"You choose a fine-tuned model. However, you didn't check the Casually Fine Tuned option. Make sure that's what you want.")),!mt&&X.casually_fine_tuned&&React.createElement(Re.G,{style:{marginBottom:0,padding:"10px 15px"}},React.createElement("p",null,"Normally, you should not check the Casually Fine Tuned option with a non-finetuned model. Make sure that's what you want.")),dt&&!pt&&React.createElement(Re.G,{style:{marginBottom:0,padding:"10px 15px"}},React.createElement("p",null,"Content Aware requires your Context to use the ","{","CONTENT","}"," placeholder. It will be replaced by the content of page the chatbot is on. More info ",React.createElement("a",{href:"https://meowapps.com/ai-engine/tutorial/#contextualization",target:"_blank"},"here"),".")),React.createElement("pre",null,Me)),React.createElement(p.P,{id:"shortcode_chat_params_override",label:"Set as Default Parameters",disabled:Object.keys(Be).length<1&&!te,value:"1",checked:te,description:"The parameters set above will be used by default when you use [mwai_chat] or inject the chatbot.",onChange:ze}),React.createElement(p.P,{id:"shortcode_chat_inject",label:"Inject Chatbot in the Entire Website",value:"1",checked:ne,description:React.createElement("span",null,"Inject the chatbot [mwai_chat] in the entire website."),onChange:ze}))))),le&&React.createElement(g.P,{title:"Statistics"},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0,style:{flex:2.5}},React.createElement(w.v,{className:"primary",title:"Queries"},React.createElement("p",null,"In the works! Coming soon :)"))),React.createElement(y.z,{minimal:!0},React.createElement(yn,null,React.createElement(w.v,{className:"primary",busy:Ge,title:"Limits",style:{flex:1},action:React.createElement(b._,{className:"danger",onClick:Ve},"Reset Limits")},React.createElement(p.P,{id:"enabled",label:"Enable Limits",checked:null==me?void 0:me.enabled,value:"1",onChange:We}),React.createElement(be.i,null),React.createElement(xe.h,{value:H,busy:Ge,onChange:function(e){V(e)}},React.createElement(xe.S,{title:"Users",value:"users",disabled:!(null!=me&&me.enabled)}),React.createElement(xe.S,{title:"Guests",value:"guests"})),"userId"===(null==me?void 0:me.target)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for Guests:"),React.createElement(ye.A,{id:"guestMessage",name:"guestMessage",disabled:!(null!=me&&me.enabled),value:null==me?void 0:me.guestMessage,onBlur:We})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Credits:"),React.createElement(ye.A,{id:"credits",name:"credits",type:"number",min:"0",max:"1000000",disabled:!(null!=me&&me.enabled),value:null==me||null===(v=me[H])||void 0===v?void 0:v.credits,onBlur:"users"===H?qe:Ue})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Type:"),React.createElement(we.N,{scrolldown:!0,id:"creditType",name:"creditType",disabled:!(null!=me&&me.enabled),value:null==me||null===(k=me[H])||void 0===k?void 0:k.creditType,onChange:"users"===H?qe:Ue},React.createElement(we.Z,{key:"queries",id:"queries",value:"queries",label:"Queries"}),React.createElement(we.Z,{key:"units",id:"units",value:"units",label:"Tokens"}),React.createElement(we.Z,{key:"price",id:"price",value:"price",label:"Dollars"})))),0!==(null==me||null===(j=me[H])||void 0===j?void 0:j.credits)&&React.createElement("p",null,"If you want to apply variable amount of credits, ",React.createElement("a",{href:"https://meowapps.com/ai-engine/faq/#limits",target:"_blank"},"click here"),"."),0!==(null==me||null===(N=me[H])||void 0===N?void 0:N.credits)&&"price"===(null==me?void 0:me[H].creditType)&&React.createElement("p",null,"The dollars represent the budget you spent through OpenAI."),0===(null==me||null===(I=me[H])||void 0===I?void 0:I.credits)&&React.createElement("p",null,"Since there are no credits, the Message for No Credits Message with be displayed."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Time Frame:"),React.createElement(we.N,{scrolldown:!0,id:"timeFrame",name:"timeFrame",disabled:!(null!=me&&me.enabled),value:null==me||null===(A=me[H])||void 0===A?void 0:A.timeFrame,onChange:"users"===H?qe:Ue},React.createElement(we.Z,{key:"day",id:"day",value:"day",label:"Day"}),React.createElement(we.Z,{key:"week",id:"week",value:"week",label:"Week"}),React.createElement(we.Z,{key:"month",id:"month",value:"month",label:"Month"}),React.createElement(we.Z,{key:"year",id:"year",value:"year",label:"Year"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Is Absolute:"),React.createElement(p.P,{id:"isAbsolute",label:"Yes",disabled:!(null!=me&&me.enabled),checked:null==me||null===(F=me[H])||void 0===F?void 0:F.isAbsolute,value:"1",onChange:"users"===H?qe:Ue}))),(null==me||null===(G=me[H])||void 0===G?void 0:G.isAbsolute)&&React.createElement("p",null,"With absolute, a day represents ",React.createElement("i",null,"today"),". Otherwise, it represent the ",React.createElement("i",null,"past 24 hours"),". The same logic applies to the other time frames."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for No Credits:"),React.createElement(ye.A,{id:"overLimitMessage",name:"overLimitMessage",disabled:!(null!=me&&me.enabled),value:null==me||null===(B=me[H])||void 0===B?void 0:B.overLimitMessage,onBlur:"users"===H?qe:Ue}))),"users"===H&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Full-Access Users:"),React.createElement(we.N,{scrolldown:!0,id:"ignoredUsers",name:"ignoredUsers",disabled:!(null!=me&&me.enabled),value:null==me||null===(M=me.users)||void 0===M?void 0:M.ignoredUsers,description:"",onChange:qe},React.createElement(we.Z,{key:"none",id:"none",value:"",label:"None"}),React.createElement(we.Z,{key:"editor",id:"editor",value:"administrator,editor",label:"Editors & Admins"}),React.createElement(we.Z,{key:"admin",id:"admin",value:"administrator",label:"Admins Only"}))))))))),React.createElement(g.P,{title:"Fine Tuning: Train your AI"},React.createElement(nn,{options:D,updateOption:ze})),React.createElement(g.P,{key:"openai-status",title:React.createElement(React.Fragment,null,"OpenAI Status",Ae>0?React.createElement(React.Fragment,null," ⚠️"):"")},React.createElement(un,{incidents:Ne,isLoading:Ce})),React.createElement(g.P,{title:"License"},React.createElement(Fe,{domain:x,prefix:R,isPro:S,isRegistered:L}))))))};var qn=n(5307);function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Un(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Un(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Xn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(){Jn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Un(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $n(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Kn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$n(o,r,a,i,c,"next",e)}function c(e){$n(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Qn(e){return function(e){if(Array.isArray(e))return er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tr=wp.element,nr=tr.useState,rr=tr.useEffect,ar=tr.useMemo;function or(){return(new Date).getTime().toString(36)+Math.random().toString(36).substr(2,9)}var ir=function(e){var t=Qn(e);return t.sort((function(e,t){return"default"===e.id?-1:"default"===t.id?1:e.name.localeCompare(t.name)})),t},cr=function(){var e=Kn(Jn().mark((function e(t){var n;return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/templates?category=").concat(t),{nonce:P});case 2:if(!(null!=(n=e.sent)&&n.templates&&n.templates.length>0)){e.next=5;break}return e.abrupt("return",ir(n.templates));case 5:if("imagesGenerator"!==t){e.next=9;break}return e.abrupt("return",We);case 9:if("playground"!==t){e.next=13;break}return e.abrupt("return",De);case 13:if("contentGenerator"!==t){e.next=15;break}return e.abrupt("return",qe);case 15:return alert("This category of templates is not supported yet."),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"playground",t=nr(),n=Vn(t,2),r=n[0],a=n[1],o=nr(!1),i=Vn(o,2),c=i[0],l=i[1],u=nr([]),s=Vn(u,2),f=s[0],m=s[1],d=(0,ke.a)({queryKey:["templates-".concat(e)],queryFn:function(){return cr(e)}}),p=d.isLoading,h=d.data;rr((function(){h&&(m(h),a(h[0]))}),[h]);var v=function(){var t=Kn(Jn().mark((function t(n){var r;return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ir(n),m(n),t.next=4,(0,E.PV)("".concat(O,"/templates"),{method:"POST",nonce:P,json:{category:e,templates:n}});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=ar((function(){if(!r||0===f.length)return!1;var e=f.find((function(e){return e.id===r.id}));return Object.keys(e).some((function(t){return e[t]!==r[t]}))}),[r,f]),g=function(e){a(e)},w=function(){var e=f.find((function(e){return e.id===r.id}));e&&a(Zn({},e))},R=function(){var e=prompt("Name","My New Template");if(!e)return!1;var t=Zn(Zn({},r),{},{id:or(),name:e});v([].concat(Qn(f),[t])),a(Zn({},t))},x=function(){var e=f.map((function(e){return e.id===r.id?r:e}));v(e),a(Zn({},r))},k=function(){var e=prompt("New name",r.name);if(e){var t=f.map((function(t){return t.id===r.id?Zn(Zn({},t),{},{name:e}):t}));v(Qn(t)),a(Zn({},t.find((function(e){return e.id===r.id}))))}},_=function(){if(confirm("Are you sure you want to delete this template?")){var e=f.filter((function(e){return e.id!==r.id}));v(Qn(e)),a(Zn({},e[0]))}},S=ar((function(){return y&&"default"!==r.id}),[r]),L=ar((function(){return React.createElement("div",{style:{margin:"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("h3",{style:{margin:0}},"Templates"),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(dt.Q,{small:!0,onLabel:"EDIT",offLabel:"EDIT",width:60,onChange:l,checked:c}))),p&&React.createElement("div",{style:{display:"flex",marginTop:30,justifyContent:"center"}},React.createElement("div",{style:{width:60}},React.createElement(qn.S,{width:20}))),React.createElement("ul",null,f.map((function(e){return React.createElement("li",{className:r.id===e.id?"active"+(y&&c?" modified":""):"",onClick:function(){a(Zn({},e))}},e.name)}))),y&&React.createElement("div",{style:{display:"flex",marginTop:15}},React.createElement(b._,{fullWidth:!0,className:"secondary",icon:"undo",onClick:w},"Reset")),c&&React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(be.i,{line:!0,height:30}),React.createElement("div",{style:{display:"flex",marginBottom:5}},React.createElement(b._,{disabled:"default"===r.id,className:"danger",icon:"trash",onClick:_}),React.createElement(b._,{disabled:"default"===r.id,className:"secondary",icon:"pencil",onClick:k}),React.createElement(b._,{disabled:!S,className:"secondary",style:{flex:6},onClick:x},"Save")),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{onClick:R,style:{flex:6}},"Save as New"))),!c&&React.createElement("div",{style:{display:"flex",marginTop:15,lineHeight:"14px"}},React.createElement("small",null,"Interested in sharing and/or looking for more templates? Join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/topic/common-use-cases-for-templates"},"Templates Threads")," in the forums.")))}));return{template:r,resetTemplate:w,setTemplate:g,jsxTemplates:L,isEdit:c}};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}var sr;function fr(){fr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==ur(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function mr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ur(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ur(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr=wp.element,br=gr.useState,wr=gr.useEffect,Er=gr.useMemo,Rr=(0,I.ZP)(Ee.l)(sr||(sr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .neko-textarea-container {\n  \n    textarea {\n      color: white;\n      font-size: 13px;\n      padding: 10px;\n      font-family: monospace;\n      background: #333d4e;\n      border: none;\n\n      &:focus {\n        background-color: #333d4e;\n      }\n    }\n  }\n"])));const xr=function(){var e,t,n,r,a,o,i=lr("playground"),c=i.template,l=i.setTemplate,u=(i.resetTemplate,i.jsxTemplates),s=vr(br(""),2),m=s[0],d=s[1],p=rt(T).models,v=vr(br(!1),2),g=v[0],w=v[1],R=vr(br(""),2),x=R[0],k=R[1],_=vr(br({prompt_tokens:0,completion_tokens:0,total_tokens:0}),2),S=_[0],L=_[1],C=vr(br({prompt_tokens:0,completion_tokens:0,total_tokens:0}),2),N=C[0],I=C[1],A=vr(br(),2),F=A[0],G=A[1],B=vr(br(),2),M=B[0],z=B[1],D=null!==(e=null==c?void 0:c.prompt)&&void 0!==e?e:"",W=null!==(t=null==c?void 0:c.model)&&void 0!==t?t:"text-davinci-003",q=null!==(n=null==c?void 0:c.mode)&&void 0!==n?n:"query",U=null!==(r=null==c?void 0:c.temperature)&&void 0!==r?r:1,Y=null!==(a=null==c?void 0:c.stopSequence)&&void 0!==a?a:"",Z=null!==(o=null==c?void 0:c.maxTokens)&&void 0!==o?o:2048,H=function(e,t){l(pr(pr({},c),{},hr({},t,e)))},V=function(e){l(pr(pr({},c),{},{prompt:e}))};wr((function(){c&&d("")}),[c]);var J=function(){var e,t=(e=fr().mark((function e(){var t,n,r,a,o=arguments;return fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:D,w(!0),G(new Date),n=Y.replace(/\\n/g,"\n"),e.next=6,(0,E.PV)("".concat(O,"/make_completions"),{method:"POST",nonce:P,json:{env:"playground",session:j,prompt:t,temperature:U,model:W,maxTokens:Z,stop:n}});case 6:r=e.sent,console.log("Completions",{prompt:t,result:r}),r.success?("continuous"===q?V(t+"\n"+r.data+"\n"):d(r.data),I(r.usage),a={prompt_tokens:S.prompt_tokens+r.usage.prompt_tokens,completion_tokens:S.completion_tokens+r.usage.completion_tokens,total_tokens:S.total_tokens+r.usage.total_tokens},L(a)):z(r.message),G(),w(!1);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mr(o,r,a,i,c,"next",e)}function c(e){mr(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),$=Er((function(){var e=0,t=0,n=ze.find((function(e){return W&&W.includes(e.model)}));return n&&(e=(S.total_tokens/1e3*n.price).toFixed(4),t=(N.total_tokens/1e3*n.price).toFixed(4)),{sessionPrice:e,lastRequestPrice:t}}),[S,N]),K=$.sessionPrice,Q=$.lastRequestPrice;return React.createElement(h.s,{nekoErrors:[]},React.createElement(ot,{title:"Playground"}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(Ke,{options:T}),React.createElement(ge.H,{style:{marginBottom:0}},React.createElement(f.O,{p:!0},"Welcome to the AI Playground! Here, you can play with different AI models and ask the UI to perform various tasks for you. You can ask it to write, rewrite, or translate an article, categorize words or elements into groups, write an email, etc. ",React.createElement("b",null,"Let me know if there are any new features you would like to see!")," Have fun 🥳"))),React.createElement(y.z,null,React.createElement(hn,null,u),React.createElement(hn,{style:{marginTop:20}},React.createElement("h3",{style:{marginTop:0}},"Mode"),React.createElement(we.N,{scrolldown:!0,id:"mode",name:"mode",disabled:!0,value:q,description:"",onChange:H},React.createElement(we.Z,{key:"query",id:"query",value:"query",label:"Query"}),React.createElement(we.Z,{key:"continuous",id:"continuous",value:"continuous",label:"Continuous"})))),React.createElement(y.z,{style:{flex:3}},React.createElement(hn,null,"continuous"!==q&&React.createElement(React.Fragment,null,React.createElement("label",{style:{marginTop:0,marginBottom:10}},"Query / Prompt:"),React.createElement(Rr,{style:{marginBottom:5},rows:12,onChange:V,value:D}),React.createElement("label",{style:{marginTop:0,marginBottom:10}},"Answer:"),React.createElement(Rr,{countable:"words",rows:14,onChange:d,value:m})),"continuous"===q&&React.createElement(React.Fragment,null,React.createElement(Rr,{rows:18,onChange:V,value:D}),React.createElement("div",{style:{display:"flex"}},React.createElement("span",{class:"dashicons dashicons-format-continuous",style:{position:"absolute",color:"white",zIndex:200,fontSize:28,marginTop:12,marginLeft:10}}),React.createElement(vn,{id:"continuousEntry",value:x,onChange:k,onEnter:function(){var e=D+"Human: "+x;V(e),k(""),J(e)},disabled:g}))))),React.createElement(y.z,null,"query"===q&&React.createElement(hn,{style:{marginBottom:20}},React.createElement(b._,{fullWidth:!0,onClick:function(){J()},isBusy:g,startTime:F,style:{height:50,fontSize:14,flex:4}},"Submit")),React.createElement(hn,null,React.createElement("h3",null,"Settings"),React.createElement("label",null,"Model:"),React.createElement(we.N,{id:"model",value:W,scrolldown:!0,onChange:H},p.map((function(e){return React.createElement(we.Z,{value:e.id,label:e.name})}))),React.createElement("label",null,"Temperature:"),React.createElement(ye.A,{id:"temperature",name:"temperature",value:U,type:"number",onChange:function(e){return H(parseFloat(e),"temperature")},description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:U>=0&&U<=1?"inherit":"red"}},"Between 0 and 1. Higher values means the model will take more risks."))}),React.createElement("label",null,"Max Tokens:"),React.createElement(ye.A,{id:"maxTokens",name:"maxTokens",value:Z,type:"number",onChange:function(e){return H(parseInt(e),"maxTokens")},description:React.createElement(React.Fragment,null,React.createElement("span",null,"The maximum number of tokens to generate. The model will stop generating once it hits this limit."))}),React.createElement("label",null,"Stop Sequence:"),React.createElement(ye.A,{id:"stopSequence",name:"stopSequence",value:Y,type:"text",onChange:H,description:React.createElement(React.Fragment,null,React.createElement("span",null,"The sequence of tokens that will cause the model to stop generating text. You absolutely need this with fine-tuned models."))})),React.createElement(hn,{style:{marginTop:20}},React.createElement("h3",null,"Usage"),React.createElement("p",null,"Keeps track of the current usage of the AI."),React.createElement("h4",null,"Session"),React.createElement("div",null,"Tokens: ",S.total_tokens),React.createElement("div",null,"Price: $",K),React.createElement("h4",null,"Last Request"),React.createElement("div",null,"Tokens: ",N.total_tokens),React.createElement("div",null,"Price: $",Q),React.createElement(b._,{style:{marginTop:10,width:"100%"},onClick:function(){L({prompt_tokens:0,completion_tokens:0,total_tokens:0}),I({prompt_tokens:0,completion_tokens:0,total_tokens:0})}},"Reset Usage")))),React.createElement(Oe.L,{isOpen:M,onRequestClose:function(){z()},onOkClick:function(){z()},title:"Error",content:React.createElement("p",null,M)}))};var kr,Or;function _r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Sr=I.ZP.div(kr||(kr=_r(["\n  margin-bottom: 5px;\n"]))),Lr=I.ZP.div(Or||(Or=_r(["\n  margin-top: 15px;\n  padding: 15px;\n  font-size: 14px;\n  cursor: pointer;\n  border-radius: 15px;\n  background: #dbf2ff;\n  line-height: 120%;\n\n  &:hover {\n    background: #037cba;\n    color: white;\n  }\n"])));function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Tr(){Tr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Pr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function jr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jr(o,r,a,i,c,"next",e)}function c(e){jr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ar=wp.element,Fr=Ar.useState,Gr=Ar.useEffect,Br=Ar.useMemo;const Mr=function(e){var t=e.post,n=e.onTitleClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Nr(Fr([]),2),c=i[0],l=i[1],u=Nr(Fr(!1),2),s=u[0],f=u[1],m=Nr(Fr(!1),2),d=m[0],p=m[1];Gr((function(){t&&h(t)}),[t]);var h=function(){var e=Cr(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,t.postTitle,f(!0),e.next=4,(0,E.PV)("".concat(O,"/make_titles"),{method:"POST",nonce:P,json:{postId:n}});case 4:(r=e.sent).success&&l(r.data),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Cr(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:g(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Cr(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),l([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Br((function(){return s?React.createElement(qn.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==c?void 0:c.length)>0?React.createElement(React.Fragment,null,"Pick a new title by clicking on it.",React.createElement(Sr,null,c.map((function(e){return React.createElement(Lr,{key:e,onClick:function(){v(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,c,d]);return React.createElement(y.o,null,React.createElement(Oe.L,{isOpen:t,onRequestClose:g,title:'New title for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,ok:"Close",onOkClick:g}))};function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Dr(){Dr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==zr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Wr(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ur=wp.element,Yr=Ur.useState,Zr=Ur.useEffect;Ur.useMemo;const Hr=function(){var e,t,n=(e=Yr(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];Zr((function(){document.querySelectorAll(".mwai-link-title").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n})}),!1)}))}),[]);var o=function(){var e,t=(e=Dr().mark((function e(t){var n,o,i,c;return Dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.PV)("".concat(O,"/update_post_title"),{method:"POST",nonce:P,json:{postId:r.postId,title:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a(),(o=document.querySelector('tr[id="post-'.concat(r.postId,'"]')))&&(i=o.querySelector(".row-title"))&&(i.innerHTML=t),(c=o.querySelector(".hidden .post_title"))&&(c.innerHTML=t);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wr(o,r,a,i,c,"next",e)}function c(e){Wr(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return React.createElement(y.o,null,React.createElement(Mr,{post:r,onTitleClick:o,onClose:function(){a()}}))};function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Jr(){Jr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Vr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $r(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$r(o,r,a,i,c,"next",e)}function c(e){$r(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ea(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Vr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||na(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){if(e){if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aa=wp.element,oa=aa.useState,ia=aa.useEffect,ca=aa.useMemo,la=(null==T?void 0:T.languages)||[],ua=Object.keys(la).map((function(e){return{value:e,label:la[e]}}));const sa=function(){var e,t,n,r,a,o,i,c,l,u,s,m,d,v,g,w,R=ta(oa(""),2),x=R[0],k=R[1],_=ta(oa(""),2),S=_[0],L=_[1],C=ta(oa(""),2),N=C[0],I=C[1],A=ta(oa(""),2),F=A[0],G=A[1],B=lr("contentGenerator"),M=B.template,z=B.setTemplate,D=B.resetTemplate,W=B.jsxTemplates,q=rt(T).models,U=(0,gt.qj)(),Y=ta(oa(!1),2),Z=Y[0],H=Y[1],V=U.busy||Z,J=ta(oa(),2),$=J[0],K=J[1],Q=ta(oa(!1),2),X=Q[0],ee=Q[1],te=ta(oa(!1),2),ne=te[0],re=te[1],ae=ta(oa(),2),oe=ae[0],ie=ae[1],ce=ta(oa("post"),2),le=ce[0],ue=ce[1],se=ta(oa([]),2),fe=se[0],me=se[1],de=ta(oa([]),2),pe=de[0],he=de[1],ve=ta(oa({}),2),ge=ve[0],Re=ve[1],ke=ca((function(){return function(e){var t=e.split(" ").length,n=e.length,r=[];if(n)return t<3?r.push("The title is too short. It should be at least 3 words."):t>8?r.push("The title is too long. It should be no more than 8 words."):n<40?r.push("The title is too short. It should be at least 40 characters."):n>70&&r.push("The title is too long. It should be no more than 70 characters."),r.join(" ")}(x)}),[x]),_e=null!==(e=null==M?void 0:M.mode)&&void 0!==e?e:"single",Se=null!==(t=null==M?void 0:M.topic)&&void 0!==t?t:"",Le=null!==(n=null==M?void 0:M.topics)&&void 0!==n?n:"",Pe=null!==(r=null==M?void 0:M.model)&&void 0!==r?r:"text-davinci-003",Te=null!==(a=null==M?void 0:M.sectionsCount)&&void 0!==a?a:2,je=null!==(o=null==M?void 0:M.paragraphsCount)&&void 0!==o?o:3,Ce=null!==(i=null==M?void 0:M.language)&&void 0!==i?i:"en",Ne=null!==(c=null==M?void 0:M.writingStyle)&&void 0!==c?c:"creative",Ie=null!==(l=null==M?void 0:M.writingTone)&&void 0!==l?l:"cheerful",Ae=null!==(u=null==M?void 0:M.titlePromptFormat)&&void 0!==u?u:"",Fe=null!==(s=null==M?void 0:M.sectionsPromptFormat)&&void 0!==s?s:"",Ge=null!==(m=null==M?void 0:M.contentPromptFormat)&&void 0!==m?m:"",ze=null!==(d=null==M?void 0:M.excerptPromptFormat)&&void 0!==d?d:"",De=null!==(v=null==M?void 0:M.temperature)&&void 0!==v?v:.6,We=null!==(g=null==M?void 0:M.maxTokens)&&void 0!==g?g:2048,qe=null!==(w=null==M?void 0:M.topicsAreTitles)&&void 0!==w&&w,Ue=ca((function(){return ua.find((function(e){return e.value===Ce})).label})),Ye=function(e,t){z(Xr(Xr({},M),{},ea({},t,e)))};ia((function(){var e=Le.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e}));me(e)}),[Le]),ia((function(){k(""),L(""),I(""),G(""),ie()}),[M]);var Ze=function(e){return e.replace("{LANGUAGE}",Ue).replace("{WRITING_STYLE}",Ne).replace("{WRITING_TONE}",Ie).replace("{PARAGRAPHS_PER_SECTION}",je).replace("{SECTIONS_COUNT}",Te)},He=ca((function(){var e=function(e,t){return!!t.find((function(t){return t.includes(e)}))},t=[Ae,Fe,Ge,ze];return{language:e("{LANGUAGE}",t),writingStyle:e("{WRITING_STYLE}",t),writingTone:e("{WRITING_TONE}",t),sectionsCount:e("{SECTIONS_COUNT}",t),paragraphsCount:e("{PARAGRAPHS_PER_SECTION}",t)}}),[Ae,Fe,Ge,ze,Te,je]),Ve=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o,i=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:prompt,n=i.length>1&&void 0!==i[1]?i[1]:2048,r=i.length>2&&void 0!==i[2]&&i[2],e.next=5,(0,E.PV)("".concat(O,"/make_completions"),{method:"POST",nonce:P,json:{env:"admin-tools",session:j,prompt:t,temperature:De,maxTokens:n,model:Pe}});case 5:if((a=e.sent).success){e.next=11;break}if(!r){e.next=9;break}throw new Error(a.message);case 9:return K(a.message),e.abrupt("return",null);case 11:return(o=a.data.trim()).startsWith('"')&&o.endsWith('"')&&(o=o.substring(1,o.length-1)),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:x,n=o.length>1&&void 0!==o[1]&&o[1],t){e.next=5;break}return alert("Title is missing!"),e.abrupt("return");case 5:return H(!0),L((function(e){return""})),r=Ze(Fe.replace("{TITLE}",t)),e.next=10,Ve(r,512,n);case 10:return a=Qe(a=e.sent),console.log("Sections:",{prompt:r,sections:a}),a&&L((function(e){return a})),H(!1),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o,i=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:x,n=i.length>1&&void 0!==i[1]?i[1]:S,r=i.length>2&&void 0!==i[2]&&i[2],t){e.next=6;break}return alert("Title is missing!"),e.abrupt("return");case 6:if(n){e.next=9;break}return alert("Sections are missing!"),e.abrupt("return");case 9:return H(!0),I((function(e){return""})),a=Ze(Ge.replace("{TITLE}",t).replace("{SECTIONS}",n)),e.next=14,Ve(a,2048,r);case 14:return(o=e.sent)&&(o=(o=(o=(o=(o=(o=o.replace(/^===INTRO:\n/,"")).replace(/^===INTRO: \n/,"")).replace(/===INTRO: /,"")).replace(/===OUTRO:\n/,"")).replace(/===OUTRO: \n/,"")).replace(/===OUTRO: /,""),I((function(e){return o}))),console.log("Content:",{prompt:a,content:o}),H(!1),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:x,n=o.length>1&&void 0!==o[1]&&o[1],t){e.next=5;break}return alert("Title is missing!"),e.abrupt("return");case 5:return H(!0),G((function(e){return""})),r=Ze(ze.replace("{TITLE}",t)),e.next=10,Ve(r,256,n);case 10:return(a=e.sent)&&G((function(e){return a})),console.log("Excerpt:",{prompt:r,excerpt:a}),H(!1),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o,i,c,l=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:Se,n=l.length>1&&void 0!==l[1]&&l[1],H(!0),Re((function(){return Xr(Xr({},ge),{},{all:new Date})})),e.prev=4,r=t,qe&&n){e.next=12;break}return a=Ze(Ae.replace("{TOPIC}",t)),e.next=10,Ve(a,64,n);case 10:r=e.sent,console.log("Title:",{prompt:a,title:r});case 12:if(o=null,i=null,c=null,H(!1),!r){e.next=40;break}return k((function(e){return r})),Re((function(e){return Xr(Xr({},e),{},{sections:new Date})})),e.next=21,Je(r,n);case 21:return o=e.sent,e.next=24,Re((function(e){return Xr(Xr({},e),{},{sections:null})}));case 24:if(!o){e.next=40;break}return e.next=27,Re((function(e){return Xr(Xr({},e),{},{content:new Date})}));case 27:return e.next=29,$e(r,o,n);case 29:return i=e.sent,e.next=32,Re((function(e){return Xr(Xr({},e),{},{content:null})}));case 32:if(!i){e.next=40;break}return e.next=35,Re((function(e){return Xr(Xr({},e),{},{excerpt:new Date})}));case 35:return e.next=37,Xe(r,n);case 37:return c=e.sent,e.next=40,Re((function(e){return Xr(Xr({},e),{},{excerpt:null})}));case 40:return e.abrupt("return",{title:r,heads:o,content:i,excerpt:c});case 43:throw e.prev=43,e.t0=e.catch(4),H(!1),Re({}),e.t0;case 48:case"end":return e.stop()}}),e,null,[[4,43]])})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Kr(Jr().mark((function e(){var t,n,r,a,o,i=arguments;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:x,n=i.length>1&&void 0!==i[1]?i[1]:N,r=i.length>2&&void 0!==i[2]?i[2]:F,a=i.length>3&&void 0!==i[3]&&i[3],H(!0),e.next=7,(0,E.PV)("".concat(O,"/create_post"),{method:"POST",nonce:P,json:{title:t,content:n,excerpt:r}});case 7:if(o=e.sent,H(!1),o.success){e.next=12;break}return K(o.message),e.abrupt("return",null);case 12:return a||ie(o.postId),e.abrupt("return",o.postId);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Kr(Jr().mark((function e(){var t;return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he([]),t=fe.map((function(e,t){return Kr(Jr().mark((function n(){var r,a,o,i,c;return Jr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Topic "+t),n.prev=1,n.next=4,et(e,!0);case 4:if(r=n.sent,a=r.title,o=r.content,i=r.excerpt,!(a&&o&&i)){n.next=15;break}return n.next=11,tt(a,o,i,!0);case 11:c=n.sent,he((function(t){return[].concat(function(e){if(Array.isArray(e))return ra(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||na(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{postId:c,topic:e,title:a,content:o,excerpt:i}]);var n})),n.next=16;break;case 15:console.warn("Could not generate the post for: "+e);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),confirm("An error was caught ("+n.t0.message+"). Should we continue?")||(U.stop(),U.reset(),H(!1));case 21:return n.abrupt("return",{success:!0});case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))})),e.next=4,U.start(t);case 4:U.reset();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(h.s,{nekoErrors:[]},React.createElement(ot,{title:"Content Generator"}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(Ke,{options:T}),React.createElement(f.O,{p:!0,style:{marginTop:0,marginBottom:0}},"Write a ",React.createElement("b",null,"Topic")," (followed by a few keywords or details if necessary), and click ",React.createElement("b",null,"Generate All"),". That's it! You can also write a Title, Generate Sections, Content, and Excerpt separately to perfect the results, or better, adapt the ",React.createElement("b",null,"Prompts")," to personalize the results. Click on ",React.createElement("b",null,"Create Post")," button when you're happy with the result. Ready for the next level? Try ",React.createElement("b",null,"Bulk Generate"),"! Join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/"},"Support Forums")," 😊!")),React.createElement(y.z,{style:{flex:1}},React.createElement(hn,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Topic"),React.createElement(Ee.l,{id:"topic",name:"topic",disabled:V||"bulk"===_e,rows:5,value:Se,onChange:Ye}),React.createElement(be.i,null),React.createElement(b._,{fullWidth:!0,disabled:!Se||"bulk"===_e,isBusy:V,startTime:null==ge?void 0:ge.all,onClick:function(){return et()}},"Generate All")),React.createElement(be.i,{height:50}),React.createElement(hn,{style:{marginBottom:25}},W)),React.createElement(y.z,{style:{flex:3}},React.createElement(xe.h,{id:"mode",name:"mode",value:_e,disabled:V,onChange:Ye},React.createElement(xe.S,{title:"Single Generate",value:"single"}),React.createElement(xe.S,{title:"Bulk Generate",value:"bulk",count:fe.length})),React.createElement(be.i,{height:40}),"bulk"===_e&&React.createElement(hn,null,React.createElement("p",{style:{marginTop:0,marginBottom:20}},"Write or paste your topics below. Each line will be used as a topic. The same ",React.createElement("b",null,"Params")," and ",React.createElement("b",null,"Prompts")," will be used as with the ",React.createElement("b",null,"Single Generate"),", so make sure you get satisfying results with it first. This ",React.createElement("b",null,"takes time"),", so relax and enjoy some coffee ☕️ and tea 🍵 :)"),React.createElement("div",{style:{display:"flex"}},React.createElement(b._,{disabled:V||!fe.length,onClick:nt},"Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},fe.length),React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:V,name:"postType",style:{width:100,marginLeft:10},onChange:ue,value:le},React.createElement(we.Z,{key:"post",id:"post",value:"post",label:"Posts"}),React.createElement(we.Z,{key:"page",id:"page",value:"page",label:"Pages"})),React.createElement(yt.U,{busy:U.busy,style:{marginLeft:10,flex:"auto"},value:U.value,max:U.max,onStopClick:U.stop})),React.createElement(be.i,{height:40}),React.createElement("h3",null,"Topics"),React.createElement(Ee.l,{id:"topics",name:"topics",rows:10,value:Le,onChange:Ye}),React.createElement(p.P,{id:"topicsAreTitles",name:"topicsAreTitles",label:"Use Topics as Titles",value:"1",checked:qe,onChange:Ye}),React.createElement("h3",null,"Generated Posts"),!pe.length&&React.createElement("i",null,"Nothing yet."),pe.length>0&&React.createElement("ul",null,pe.map((function(e){return React.createElement("li",null,e.title," ",React.createElement("a",{target:"_blank",href:"/?p=".concat(e.postId)},"View")," or ",React.createElement("a",{target:"_blank",href:"/wp-admin/post.php?post=".concat(e.postId,"&action=edit")},"Edit"))})))),"single"===_e&&React.createElement(hn,null,React.createElement("h2",{style:{marginTop:0}},"Title"),React.createElement(ye.A,{disabled:V,value:x,onChange:k}),ke&&React.createElement("div",{className:"information"},"Advice: ",ke),React.createElement(be.i,{height:20}),React.createElement(it,null,React.createElement("h2",null,"Sections"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},He.sectionsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Sections: "),React.createElement(we.N,{scrolldown:!0,id:"sectionsCount",name:"sectionsCount",disabled:V,style:{marginRight:10},value:Te,description:"",onChange:Ye},React.createElement(we.Z,{key:2,id:2,value:2,label:2}),React.createElement(we.Z,{key:3,id:3,value:3,label:3}),React.createElement(we.Z,{key:4,id:4,value:4,label:4}),React.createElement(we.Z,{key:6,id:6,value:6,label:6}),React.createElement(we.Z,{key:8,id:8,value:8,label:8}),React.createElement(we.Z,{key:10,id:10,value:10,label:10}),React.createElement(we.Z,{key:12,id:12,value:12,label:12}))),React.createElement(b._,{disabled:!x,isBusy:V,startTime:null==ge?void 0:ge.sections,onClick:function(){return Je()}},"Generate Sections"))),React.createElement(be.i,{height:20}),React.createElement(Ee.l,{disabled:V,rows:4,value:S,onBlur:L}),React.createElement("div",{className:"information"},'Add, rewrite, remove, or reorganize those sections as you wish before (re)clicking on "Generate Content". Markdown format is recommended.'),React.createElement(be.i,{height:20}),React.createElement(it,null,React.createElement("h2",null,"Content"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},He.paragraphsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Paragraphs per Section: "),React.createElement(we.N,{scrolldown:!0,id:"paragraphsCount",name:"paragraphsCount",disabled:V,style:{marginRight:10},value:je,description:"",onChange:Ye},React.createElement(we.Z,{key:1,id:1,value:1,label:1}),React.createElement(we.Z,{key:2,id:2,value:2,label:2}),React.createElement(we.Z,{key:3,id:3,value:3,label:3}),React.createElement(we.Z,{key:4,id:4,value:4,label:4}),React.createElement(we.Z,{key:6,id:6,value:6,label:6}),React.createElement(we.Z,{key:8,id:8,value:8,label:8}),React.createElement(we.Z,{key:10,id:10,value:10,label:10}))),React.createElement(b._,{disabled:!x,isBusy:V,startTime:null==ge?void 0:ge.content,onClick:function(){return $e()}},"Generate Content"))),React.createElement(be.i,{height:20}),React.createElement(Ee.l,{countable:"words",disabled:V,rows:12,value:N,onBlur:I}),React.createElement("div",{className:"information"},'You can modify the content before using "Create Post". Markdown is supported, and will be converted to HTML when the post is created.'),React.createElement(be.i,{height:20}),React.createElement(it,null,React.createElement("h2",null,"Excerpt"),React.createElement(b._,{disabled:!x,isBusy:V,startTime:null==ge?void 0:ge.excerpt,onClick:function(){return Xe()}},"Generate Excerpt")),React.createElement(be.i,{height:20}),React.createElement(Ee.l,{disabled:V,value:F,onBlur:G,rows:3}),React.createElement(be.i,{height:20}),React.createElement(b._,{fullWidth:!0,style:{height:60},onClick:function(){return tt()},isBusy:V,disabled:!x||!N},"Create Post"))),React.createElement(y.z,null,React.createElement(hn,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Content Params"),!He.language&&!He.writingStyle&&!He.writingTone&&React.createElement("div",{style:{fontSize:11,lineHeight:"14px"}},"Input fields are displayed for certain placeholders used in prompts, such as ","{","LANGUAGE","}"," or ","{","WRITING_TONE","}","."),He.language&&React.createElement(React.Fragment,null,React.createElement("label",null,"Language:"),React.createElement(we.N,{scrolldown:!0,id:"language",name:"language",disabled:V,value:Ce,description:"",onChange:Ye},ua.map((function(e){return React.createElement(we.Z,{key:e.value,id:e.value,value:e.value,label:e.label})})))),He.writingStyle&&React.createElement(React.Fragment,null,React.createElement("label",null,"Writing style:"),React.createElement(we.N,{scrolldown:!0,id:"writingStyle",name:"writingStyle",disabled:V,value:Ne,description:"",onChange:Ye},Be.map((function(e){return React.createElement(we.Z,{key:e.value,id:e.value,value:e.value,label:e.label})})))),He.writingTone&&React.createElement(React.Fragment,null,React.createElement("label",null,"Writing tone:"),React.createElement(we.N,{scrolldown:!0,id:"writingTone",name:"writingTone",disabled:V,value:Ie,description:"",onChange:Ye},Me.map((function(e){return React.createElement(we.Z,{key:e.value,id:e.value,value:e.value,label:e.label})}))))),React.createElement(hn,{style:{marginTop:25,marginBottom:25}},React.createElement(it,null,React.createElement("h2",null,"Model Params"),React.createElement(b._,{onClick:function(){return ee(!X)}},X?"Hide":"Show")),X&&React.createElement(React.Fragment,null,React.createElement("label",null,"Model:"),React.createElement(we.N,{id:"model",name:"model ",value:Pe,scrolldown:!0,onChange:Ye},q.map((function(e){return React.createElement(we.Z,{value:e.id,label:e.name})}))),React.createElement("label",null,"Temperature:"),React.createElement(ye.A,{id:"temperature",name:"temperature",value:De,type:"number",onChange:Ye,onBlur:Ye,description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:De>=0&&De<=1?"inherit":"red"}},"Between 0 and 1.")," Higher values means the model will take more risks.")}),React.createElement("label",null,"Max Tokens:"),React.createElement(ye.A,{id:"maxTokens",name:"maxTokens",value:We,type:"number",onChange:Ye,onBlur:Ye,description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:We>=1&&We<=4096?"inherit":"red"}},"Between 1 and 2048.")," Higher values means the model will generate more content.")}))),React.createElement(hn,null,React.createElement(it,null,React.createElement("h2",null,"Prompts"),React.createElement(b._,{onClick:function(){return re(!ne)}},ne?"Hide":"Show")),ne&&React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},"Prompts represent the exact request sent to the AI. The variables between curly braces will be replaced by the content of the corresponding field. Prompts are saved in your templates."),React.createElement("label",null,"Prompt for ",React.createElement("b",null,"Title")),React.createElement(Ee.l,{disabled:V,id:"titlePromptFormat",name:"titlePromptFormat",value:Ae,onChange:Ye}),React.createElement("label",null,"Prompt for ",React.createElement("b",null,"Sections")),React.createElement(Ee.l,{disabled:V,id:"sectionsPromptFormat",name:"sectionsPromptFormat",value:Fe,onChange:Ye}),React.createElement("label",null,"Prompt for ",React.createElement("b",null,"Content")),React.createElement(Ee.l,{disabled:V,id:"contentPromptFormat",name:"contentPromptFormat",value:Ge,onChange:Ye}),React.createElement("label",null,"Prompt for ",React.createElement("b",null,"Excerpt")),React.createElement(Ee.l,{disabled:V,id:"excerptPromptFormat",name:"excerptPromptFormat",value:ze,onChange:Ye}))))),React.createElement(Oe.L,{isOpen:oe,onRequestClose:function(){return ie()},onOkClick:function(){window.open("/wp-admin/post.php?post=".concat(oe,"&action=edit"),"_blank"),D()},ok:"Edit the Post",cancel:"Close",onCancelClick:function(){return D()},title:"Post Created!",content:React.createElement("p",null,"The post was created as draft.")}),React.createElement(Oe.L,{isOpen:$,onRequestClose:function(){K()},onOkClick:function(){K()},title:"Error",content:React.createElement("p",null,$)}))};function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}var ma;function da(){da=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==fa(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function pa(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ea(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function va(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ha(o,r,a,i,c,"next",e)}function c(e){ha(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ba(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Ea(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){if(e){if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ra(e,t):void 0}}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xa=wp.element,ka=xa.useState,Oa=xa.useEffect,_a=xa.useMemo,Sa=[1,2,3,6,9],La=I.ZP.div(ma||(ma=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-bottom: 5px;\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n"])));const Pa=function(){var e=lr("imagesGenerator"),t=e.template,n=e.setTemplate,r=e.jsxTemplates,a=wa(ka(),2),o=a[0],i=a[1],c=wa(ka(!0),2),l=c[0],u=c[1],s=wa(ka(!1),2),m=s[0],d=s[1],v=wa(ka([]),2),g=v[0],w=v[1],R=wa(ka(),2),x=R[0],k=R[1],_=wa(ka(""),2),S=_[0],L=_[1],C=wa(ka(""),2),N=C[0],I=C[1],A=wa(ka(""),2),F=A[0],G=A[1],B=wa(ka(""),2),M=B[0],z=B[1],D=wa(ka(""),2),W=D[0],q=D[1],U=wa(ka([]),2),Y=U[0],Z=U[1],H=_a((function(){return g.indexOf(x)}),[x,g]),V=null==t?void 0:t.prompt,J=null==t?void 0:t.maxResults;Oa((function(){if(x){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42,n=e.replace(/[\s|,]+/g,"-"),r=(n=n.replace(/--+/g,"-")).split("-"),a=r[0],o=1;o<r.length&&r[o]&&a.length+r[o].length<t;)a+="-"+r[o],o++;return a.length>t+1&&(a=a.slice(0,t+2)),a}(V)+".png";q(e),L(V),I(V),G(V),z(V)}}),[x]);var $=function(){var e=va(da().mark((function e(){var t;return da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,E.PV)("".concat(O,"/make_images"),{method:"POST",nonce:P,json:{env:"admin-tools",session:j,prompt:V,maxResults:J}});case 3:return t=e.sent,d(!1),t.success&&w(l?[].concat(pa(g),pa(t.data)):t.data),i(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=va(da().mark((function e(){var t;return da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,E.PV)("".concat(O,"/create_image"),{method:"POST",nonce:P,json:{url:x,title:S,description:N,caption:F,alt:M,filename:W}});case 3:return t=e.sent,d(!1),t.success&&Z([].concat(pa(Y),[{id:t.attachmentId,url:x}])),i(t.message),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=_a((function(){var e=Y.find((function(e){return e.url===x}));return e?e.id:null}),[x,Y]);return React.createElement(h.s,{nekoErrors:[]},React.createElement(ot,{title:"Image Generator"}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(Ke,{options:T}),React.createElement(f.O,{p:!0,style:{marginTop:0,marginBottom:0}},"This will also be available in the Post Editor soon. If you have any idea or request, please join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/"},"Support Forum"),"! 🎵")),React.createElement(y.z,null,React.createElement(hn,{style:{marginBottom:25}},r)),React.createElement(y.z,{style:{flex:3}},x&&React.createElement(React.Fragment,null,React.createElement(ge.H,null,React.createElement(it,{style:{paddingBottom:10}},React.createElement("h2",null,"Images Generator"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(b._,{disabled:H<1||m,onClick:function(){H>0&&k(g[H-1])}},"<"),React.createElement(b._,{disabled:m,onClick:function(){return k()}},"Back to results"),React.createElement(b._,{disabled:H>=g.length-1||m,onClick:function(){H<g.length-1&&k(g[H+1])}},">"))),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:2}},React.createElement("img",{src:x,style:{width:"100%"}})),React.createElement("div",{style:{flex:1,marginLeft:10,display:"flex",flexDirection:"column"}},React.createElement(La,null,React.createElement("label",null,"Title:"),React.createElement(Ee.l,{value:S,onBlur:L,rows:2})),React.createElement(La,null,React.createElement("label",null,"Caption:"),React.createElement(Ee.l,{value:F,onBlur:G,rows:2})),React.createElement(La,null,React.createElement("label",null,"Description:"),React.createElement(Ee.l,{value:N,onBlur:I,rows:2})),React.createElement(La,null,React.createElement("label",null,"Alternative Text:"),React.createElement(Ee.l,{value:M,onBlur:z,rows:2})),React.createElement(La,null,React.createElement("label",null,"Filename:"),React.createElement(ye.A,{value:W,onChange:q})),React.createElement(b._,{fullWidth:!0,style:{marginTop:7},isBusy:m,onClick:function(){return K()}},"Add to Media Library"),React.createElement(b._,{fullWidth:!0,style:{marginLeft:0,marginTop:7},isBusy:m,onClick:function(){return(e=document.createElement("a")).href=x,e.target="_blank",e.download=W,void e.click();var e}},"Download"),Q&&React.createElement(Re.C,{style:{fontSize:13,padding:"10px 5px"}},"The media has been created! You can edit it here: ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(Q,"&action=edit"),target:"_blank"},"Edit Media #",Q),"."))))),!x&&React.createElement(React.Fragment,null,React.createElement(ge.H,null,React.createElement(it,null,React.createElement("h2",null,"Generated Images"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Images: "),React.createElement(we.N,{scrolldown:!0,id:"maxResults",name:"maxResults",disabled:m,style:{marginRight:10},value:J,description:"",onChange:function(e){n(ga(ga({},t),{},{maxResults:e}))}},Sa.map((function(e){return React.createElement(we.Z,{key:e,id:e,value:e,label:e})}))),React.createElement(b._,{disabled:!V,isBusy:m,onClick:$},"Generate Images"))),React.createElement(Ee.l,{value:V,onChange:function(e){n(ga(ga({},t),{},{prompt:e}))},style:{marginTop:20}}),React.createElement(ct,null,g.map((function(e){return React.createElement("img",{src:e,onClick:function(){return k(e)}})})),pa(Array(Math.max(3-g.length,0)).keys()).map((function(e){return React.createElement("div",{class:"empty-image"})})))))),React.createElement(y.z,null,React.createElement(ge.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Settings"),React.createElement(p.P,{id:"continuous_mode ",label:"Continuous",value:"1",checked:l,description:"New images will be added to the already generated images.",onChange:u})))),React.createElement(Oe.L,{isOpen:o,onRequestClose:function(){i()},onOkClick:function(){i()},title:"Error",content:React.createElement("p",null,o)}))};function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function ja(){ja=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Ta(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ca(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ca(o,r,a,i,c,"next",e)}function c(e){Ca(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fa=wp.element,Ga=Fa.useState,Ba=Fa.useEffect,Ma=Fa.useMemo;const za=function(e){var t=e.post,n=e.onExcerptClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Ia(Ga([]),2),c=i[0],l=i[1],u=Ia(Ga(!1),2),s=u[0],f=u[1],m=Ia(Ga(!1),2),d=m[0],p=m[1];Ba((function(){t&&h(t)}),[t]);var h=function(){var e=Na(ja().mark((function e(t){var n,r;return ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,f(!0),e.next=4,(0,E.PV)("".concat(O,"/make_excerpts"),{method:"POST",nonce:P,json:{postId:n}});case 4:(r=e.sent).success&&l(r.data),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Na(ja().mark((function e(t){return ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:g(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Na(ja().mark((function e(){return ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),l([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Ma((function(){return s?React.createElement(qn.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==c?void 0:c.length)>0?React.createElement(React.Fragment,null,"Pick a new excerpt by clicking on it.",React.createElement(Sr,null,c.map((function(e){return React.createElement(Lr,{key:e,onClick:function(){v(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,c,d]);return React.createElement(y.o,null,React.createElement(Oe.L,{isOpen:t,onRequestClose:g,title:'New excerpt for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,ok:"Close",onOkClick:g}))};function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Da(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Da(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ya=wp.element,Za=(Ya.useState,Ya.useEffect,Ya.useMemo),Ha=React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"m391 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m331 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m271 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m211 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m151 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m91 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m406 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m346 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m286 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("g",{fill:"#5f55af"},React.createElement("path",{d:"m226 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m166 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m106 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 121h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 181h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 241h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 301h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 361h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 421h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"})),React.createElement("path",{d:"m431 91v30h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"#39326c"}),React.createElement("path",{d:"m431 181h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 241h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 301h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 361h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 421h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"})),React.createElement("g",null,React.createElement("path",{d:"m446 51h-380c-8.284 0-15 6.716-15 15v380c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15v-380c0-8.284-6.716-15-15-15z",fill:"#aed0ff"}),React.createElement("g",null,React.createElement("path",{d:"m461 446v-380c0-8.284-6.716-15-15-15h-190v410h190c8.284 0 15-6.716 15-15z",fill:"#7c84e8"})),React.createElement("path",{d:"m386 111h-260c-8.284 0-15 6.716-15 15v260c0 8.284 6.716 15 15 15h260c8.284 0 15-6.716 15-15v-260c0-8.284-6.716-15-15-15z",fill:"#5f55af"}),React.createElement("g",null,React.createElement("path",{d:"m401 386v-260c0-8.284-6.716-15-15-15h-130v290h130c8.284 0 15-6.716 15-15z",fill:"#39326c"}))),React.createElement("g",null,React.createElement("path",{d:"m247.626 192.389c-.052-.138-.106-.274-.162-.411-2.744-6.671-9.175-10.978-16.387-10.978-.006 0-.012 0-.018 0-7.219.007-13.65 4.329-16.383 11.01-.046.113-.091.227-.134.341l-45.06 118.31c-2.949 7.742.937 16.408 8.679 19.356 7.742 2.95 16.408-.937 19.356-8.679l7.543-19.804h51.691l7.458 19.762c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33zm-31.14 79.146 14.538-38.171 14.406 38.171z",fill:"#f9f9f9"}),React.createElement("g",{fill:"#e2dff4"},React.createElement("path",{d:"m264.209 321.296c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33l-36.276-96.126v86.956h.751z"}),React.createElement("path",{d:"m328.5 181c-8.284 0-15 6.716-15 15v120c0 8.284 6.716 15 15 15s15-6.716 15-15v-120c0-8.284-6.716-15-15-15z"})))),Va=React.createElement("g",null,React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06-17.32-17.32-16.37-45.67 2.06-61.8l156.08-139.26s13.46-2.54 29.46 13.46 13.46 29.46 13.46 29.46z",fill:"#0052be"}),React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06l187.6-187.6c16 16 13.46 29.46 13.46 29.46z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46c-14.997-14.997-27.922-27.922-42.92-42.92l101.46-90.54z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46-21.46-21.46 96-96z",fill:"#00337a"}),React.createElement("path",{d:"m400 279.001h-64.4l-42.47 57.87c-7.88 10.735-24.824 6.606-26.91-6.52l-11.56-73.01-73.01-11.56c-13.139-2.087-17.244-19.042-6.52-26.91l57.87-42.47v-64.4c0-12.176 13.797-19.289 23.72-12.21l50.15 35.83 70.92-19.9c11.25-3.168 21.656 7.245 18.49 18.49l-19.9 70.92 35.83 50.15c7.071 9.913-.02 23.72-12.21 23.72z",fill:"#ffdd54"}),React.createElement("path",{d:"m412.21 255.281c7.071 9.913-.02 23.72-12.21 23.72h-64.4l-42.47 57.87c-7.875 10.728-24.823 6.616-26.91-6.52l-11.56-73.01 137.79-137.79c3.83 3.84 5.3 9.44 3.83 14.66l-19.9 70.92z",fill:"#ffb454"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9h-9c-8.28 0-15-6.72-15-15s6.72-15 15-15h9v-9c0-8.28 6.72-15 15-15s15 6.72 15 15v9h9c8.28 0 15 6.719 15 15z",fill:"#bee75e"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9l30-30h9c8.28 0 15 6.719 15 15z",fill:"#00cb75"}),React.createElement("path",{d:"m336 41.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#f6f9f9"}),React.createElement("path",{d:"m441 224.001c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9z",fill:"#e2dff4"}),React.createElement("path",{d:"m497 329.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff4a4a"}),React.createElement("path",{d:"m192 24.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff8659"}),React.createElement("path",{d:"m159.442 122.977-56-32c-7.191-4.109-16.355-1.611-20.466 5.581-4.11 7.193-1.611 16.355 5.581 20.466l56 32c7.16 4.093 16.337 1.644 20.466-5.581 4.111-7.193 1.612-16.355-5.581-20.466z",fill:"#f6f9f9"}),React.createElement("path",{d:"m118.14 169.117-64 8c-8.221 1.027-14.052 8.524-13.023 16.744 1.027 8.218 8.523 14.054 16.744 13.023l64-8c8.221-1.027 14.052-8.524 13.023-16.744-1.028-8.22-8.527-14.062-16.744-13.023z",fill:"#acceff"}),React.createElement("path",{d:"m389.023 352.558c-4.111-7.193-13.274-9.693-20.466-5.581-7.192 4.11-9.691 13.272-5.581 20.466l32 56c2.769 4.845 7.83 7.561 13.037 7.561 11.319 0 18.784-12.341 13.01-22.445z",fill:"#e2dff4"}),React.createElement("path",{d:"m329.86 377.117c-8.222-1.031-15.717 4.804-16.744 13.023l-8 64c-1.117 8.925 5.834 16.862 14.902 16.862 7.455 0 13.917-5.553 14.865-13.142l8-64c1.029-8.219-4.802-15.716-13.023-16.743z",fill:"#6ba7ff"}));const Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=void 0===t?"ai":t,r=e.style,a=void 0===r?{}:r,o=Za((function(){switch(n){case"ai":default:return Ha;case"wand":return Va}}),[n]);return React.createElement("svg",{style:qa({width:20,height:20,marginRight:5},a),"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},o)};function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function Ka(){Ka=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==$a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Qa(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Xa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qa(o,r,a,i,c,"next",e)}function c(e){Qa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var no=wp.element,ro=no.useState,ao=(no.useEffect,no.useMemo,wp.i18n.__),oo=wp.plugins.registerPlugin,io=wp.components.Button,co=wp.editPost,lo=co.PluginDocumentSettingPanel,uo=co.PluginBlockSettingsMenuItem,so=function(){alert("Coming soon! Let me know your feedback and ideas, I will make this awesome for you.")};oo("ai-engine-menu-paragraph-generate",{render:function(){return React.createElement(React.Fragment,null,React.createElement(uo,{allowedBlocks:["core/paragraph"],icon:React.createElement(Ja,{icon:"wand",style:{marginRight:0}}),label:React.createElement(React.Fragment,null," ",ao("Enhance text")),onClick:so}),React.createElement(uo,{allowedBlocks:["core/paragraph"],icon:React.createElement(Ja,{icon:"wand",style:{marginRight:0}}),label:React.createElement(React.Fragment,null," ",ao("Translate text")),onClick:so}))}});var fo=function(){var e=eo(ro(),2),t=e[0],n=e[1],r=eo(ro(),2),a=r[0],o=r[1],i=function(){var e=Xa(Ka().mark((function e(t){return Ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({title:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Xa(Ka().mark((function e(t){return Ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({excerpt:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(lo,{name:"mwai-document-settings",title:React.createElement(React.Fragment,null,React.createElement(Ja,null)," AI Engine"),className:"mwai-document-settings"},React.createElement("p",null,"Generate:"),React.createElement("div",{style:{display:"flex"}},React.createElement(io,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,r=e.title;e.excerpt,n({postId:t,postTitle:r})},style:{flex:1,marginRight:10}},React.createElement(Ja,{icon:"wand",style:{marginRight:8}})," Titles"),React.createElement(io,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;e.excerpt,o({postId:t,postTitle:n})},style:{flex:1}},React.createElement(Ja,{icon:"wand",style:{marginRight:8}})," Excerpts")),React.createElement(y.o,null,React.createElement(Mr,{post:t,onTitleClick:i,onClose:n}),React.createElement(za,{post:a,onExcerptClick:c,onClose:o})))};var mo,po=["children","type","title","hint"];function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(this,arguments)}var vo=React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{width:"20",height:"20",fill:"white"}),React.createElement("path",{d:"M16.6667 3.33334V13.3333H6.66667V3.33334H16.6667ZM16.6667 1.66667H6.66667L5 3.33334V13.3333L6.66667 15H16.6667L18.3333 13.3333V3.33334L16.6667 1.66667Z",fill:"#2D4B6D"}),React.createElement("path",{d:"M10 10L10.8333 11.6667L13.3333 9.16667L15.8333 12.5H7.5L10 10Z",fill:"#1ABC9C"}),React.createElement("path",{d:"M1.66667 5V16.6667L3.33333 18.3333H15V16.6667H3.33333V5H1.66667Z",fill:"#2D4B6D"})),yo=I.ZP.div(mo||(mo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tcolor: black;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid black;\n\tfont-size: 15px;\n\tbox-sizing: content-box;\n\tfont-weight: 400;\n  font-size: 13px;\n\tpadding: 10px;\n\tbackground: white;\n\n\t.mwai-title-container {\n\t\tflex: inherit;\n\t\tpadding: 5px 0px 5px 10px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: black;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\n\t\t.mwai-hint {\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: 400;\n\t\t\ttext-align: right;\n\t\t\tflex: auto;\n\n\t\t\t.mwai-pill {\n\t\t\t\tbackground: ",";\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.mwai-pill-purple {\n\t\t\t\tbackground: ",";\n\t\t\t}\n\t\t}\n\t}\n\n\t.mwai-block-container-content {\n\t\tdisplay: none;\n\t\tflex: auto;\n\t\tpadding: 0px 10px;\n\n\t\t.mwai-block-container {\n\t\t\tborder: 1px solid black;\n\t\t\tmargin: 10px 0;\n\n\t\t\t.mwai-title-container {\n\t\t\t\tbackground: white;\n\t\t\t}\n\n\t\t\t.mwai-block-container-content {\n\t\t\t\tbackground: white;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.mwai-container > .mwai-block-container-content {\n\t\tdisplay: block;\n\t}\n\n\t.is-selected {\n\n\t\t&:after {\n\t\t\tborder: 1px solid ",";\n\t\t}\n\n\t\t& > .mwai-block-container:not(.mwai-container) {\n\n\t\t\t.mwai-block-container-content {\n\t\t\t padding: 10px;\n\t\t\t display: flex;\n\t\t\t}\n\t\t}\n\t}\n\t\n"])),ft.ZP.blue,ft.ZP.purple,ft.ZP.blue),go=function(e){var t=e.children,n=e.type,r=void 0===n?"":n,a=e.title,o=void 0===a?"":a,i=e.hint,c=void 0===i?"":i,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,po),u=(0,gt.F0)("mwai-block-container","mwai-"+r);return React.createElement(yo,ho({className:u},l),React.createElement("div",{className:"mwai-title-container"},React.createElement(Ja,{icon:"ai",style:{width:20,height:20}}),React.createElement("div",null,o),React.createElement("div",{className:"mwai-hint"},c)),React.createElement("div",{className:"mwai-block-container-content"},t))},bo=wp.i18n.__,wo=wp.blocks,Eo=wo.registerBlockType,Ro=(wo.createBlock,wp.element),xo=Ro.useMemo,ko=(Ro.useEffect,Ro.useState,wp.components),Oo=(ko.Button,ko.DropZone,ko.PanelBody),_o=(ko.RangeControl,ko.CheckboxControl,ko.TextControl,ko.SelectControl,ko.Toolbar,ko.withNotices,wp.blockEditor),So=(_o.BlockControls,_o.InspectorControls),Lo=function(e){var t=e.attributes;return t.id,t.fieldName,t.labelText,console.log(e),React.createElement(React.Fragment,null,"[mwai_chatbot]")},Po=function(e){var t=e.attributes,n=(t.id,t.fieldName,t.labelText,e.setAttributes,xo((function(){return Lo(e)}),[e]));return React.createElement(React.Fragment,null,n,React.createElement(So,null,React.createElement(Oo,{title:bo("Chatbot")}),React.createElement(Oo,{title:bo("Settings")})))};function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}var jo=wp.i18n.__,Co=wp.blocks.registerBlockType,No=wp.element,Io=(No.useMemo,No.useEffect),Ao=wp.components,Fo=(Ao.Button,Ao.PanelBody),Go=(Ao.TextControl,Ao.SelectControl),Bo=wp.blockEditor,Mo=Bo.InspectorControls,zo=Bo.InnerBlocks,Do=Bo.useBlockProps,Wo=function(e){var t=Do.save(),n=e.attributes,r=n.id,a=n.theme,o='[mwai-form-container id="'.concat(r,'" theme="').concat(a,'"]');return React.createElement("div",To({},t,{id:"mwai-form-container-".concat(r),className:"mwai-form-container"}),o,React.createElement(zo.Content,null))},qo=function(e){var t=e.attributes,n=t.id,r=t.theme,a=e.setAttributes,o=Do();return Io((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:e})}}),[n]),React.createElement(React.Fragment,null,React.createElement(go,{title:"Container",type:"container"},React.createElement("div",o,React.createElement(zo,null))),React.createElement(Mo,null,React.createElement(Fo,{title:jo("Style")},React.createElement("p",null,"The theme will be applied to all the AI elements in this container."),React.createElement(Go,{label:"Theme",value:r,onChange:function(e){return a({theme:e})},options:[{label:"None",value:"none"},{label:"ChatGPT",value:"ChatGPT"}]}))))};function Uo(e){return function(e){if(Array.isArray(e))return Yo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zo=wp.i18n.__,Ho=wp.blocks.registerBlockType,Vo=wp.element,Jo=(Vo.useMemo,Vo.useEffect),$o=wp.components,Ko=$o.Button,Qo=$o.PanelBody,Xo=$o.TextControl,ei=$o.SelectControl,ti=wp.blockEditor.InspectorControls,ni=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.type,o=t.name,i=t.options,c=void 0===i?[]:i,l=t.placeholder,u=encodeURIComponent(JSON.stringify(c));return"[mwai-form-field id='".concat(n,"' label=\"").concat(r,'" type="').concat(a,'" name="').concat(o,'" options="').concat(u,'" placeholder="').concat(l,'"]')},ri=function(e){var t,n=e.attributes,r=n.id,a=n.type,o=n.name,i=n.options,c=void 0===i?[]:i,l=n.label,u=n.placeholder,s=e.setAttributes;return Jo((function(){if(!r){var e=Math.random().toString(36).substr(2,9);s({id:"mwai-"+e})}}),[r]),Jo((function(){if(l){var e=l.trim().replace(/ /g,"_").replace(/[^\w-]+/g,"").toUpperCase();s({name:e})}}),[l]),React.createElement(React.Fragment,null,React.createElement(go,{title:"".concat((t=a,t.charAt(0).toUpperCase()+t.slice(1))),type:"field",hint:React.createElement("span",{className:"mwai-pill"},o)},React.createElement("div",null,l),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,o)),React.createElement(ti,null,React.createElement(Qo,{title:Zo("Field")},React.createElement(Xo,{label:"Label Text",value:l,onChange:function(e){return s({label:e})}}),React.createElement(Xo,{label:"Field Name",value:o,onChange:function(e){return s({name:e})}}),React.createElement(ei,{label:"Field Type",value:a,onChange:function(e){return s({type:e})},options:[{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Radio",value:"radio"},{label:"Text Area",value:"textarea"}]}),("input"===a||"textarea"===a)&&React.createElement(Xo,{label:"Placeholder",value:u,onChange:function(e){return s({placeholder:e})}})),"select"===a&&React.createElement(Qo,{title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},React.createElement("div",null,Zo("Options")),React.createElement(Ko,{isPrimary:!0,isSmall:!0,onClick:function(e){e.preventDefault();var t=Uo(c);t.push({label:"",value:""}),s({options:t})}},"Add Option"))},c.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex",marginBottom:-25}},React.createElement(Xo,{style:{flex:2,marginBottom:0,marginRight:5},label:"Label",isInline:!0,value:e.label,onChange:function(e){var n=Uo(c);n[t].label=e,s({options:n})}}),React.createElement(Xo,{style:{flex:1,marginBottom:0},label:"Value",isSubtle:!0,value:e.value,onChange:function(e){var n=Uo(c);n[t].value=e,s({options:n})}}),React.createElement("div",{style:{paddingTop:29}},React.createElement(Ko,{style:{flex:1,marginLeft:5},isDestructive:!0,isSmall:!0,onClick:function(){var e=Uo(c);e.splice(t,1),s({options:e})}},"Remove")))}))),React.createElement(Qo,{title:Zo("Optional")},React.createElement(Xo,{label:"ID",value:r,onChange:function(e){return s({id:e})}}))))};var ai=wp.i18n.__,oi=wp.blocks.registerBlockType,ii=wp.element,ci=(ii.useMemo,ii.useEffect),li=wp.components,ui=li.PanelBody,si=li.TextControl,fi=wp.blockEditor.InspectorControls,mi=function(e){var t=e.attributes.id;return'[mwai-form-output id="'.concat(t,'"]')},di=function(e){var t=e.attributes.id,n=e.setAttributes;return ci((function(){if(!t){var e=Math.random().toString(36).substr(2,9);n({id:"mwai-"+e})}}),[t]),React.createElement(React.Fragment,null,React.createElement(go,{title:"Output",type:"output",hint:React.createElement("span",{className:"mwai-pill mwai-pill-purple"},"#",t)},React.createElement("div",null),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,"#",t)),React.createElement(fi,null,React.createElement(ui,{title:ai("Output")},React.createElement(si,{label:"ID",value:t,onChange:function(e){return n({id:e})}}))))};var pi=wp.i18n.__,hi=wp.blocks.registerBlockType,vi=wp.element,yi=vi.useMemo,gi=vi.useEffect,bi=wp.components,wi=bi.PanelBody,Ei=bi.TextControl,Ri=bi.TextareaControl,xi=bi.SelectControl,ki=wp.blockEditor.InspectorControls,Oi=function(e){var t=e.attributes,n=t.label,r=t.prompt,a=t.outputElement,o=t.model,i=encodeURIComponent(r);return'[mwai-form-submit label="'.concat(n,'" prompt="').concat(i,'" output_element="').concat(a,'" model="').concat(o,'"]')},_i=function(e){var t=rt(T).models,n=e.attributes,r=n.label,a=n.prompt,o=n.model,i=n.outputElement,c=n.placeholders,l=void 0===c?[]:c,u=e.setAttributes;gi((function(){var e=a.match(/{([^}]+)}/g);e&&u({placeholders:e.map((function(e){return e.replace("{","").replace("}","")}))})}),[a]);var s=yi((function(){return l?l.length:0}),[l]),f=yi((function(){var e=t.map((function(e){return{label:e.name,value:e.id}}));return e.push({label:"dall-e",value:"dall-e"}),e}),[t]);return React.createElement(React.Fragment,null,React.createElement(go,{title:"Submit",type:"submit",hint:React.createElement(React.Fragment,null,React.createElement("span",{className:"mwai-pill"},s," field",s>1?"s":"")," to"," ",React.createElement("span",{className:"mwai-pill mwai-pill-purple"},i))},"Input Fields: ",l.join(", "),React.createElement("br",null),"Prompt: ",a,React.createElement("br",null),"Output Element: ",i),React.createElement(ki,null,React.createElement(wi,{title:pi("Output")},React.createElement(Ei,{label:"Label",value:r,onChange:function(e){return u({label:e})}}),React.createElement(Ri,{label:"Prompt",value:a,onChange:function(e){return u({prompt:e})},help:"The template of your prompt. To re-use the data entered by the user, use the name of that field between curly braces. Example: 'Recommend me {MUSIC_TYPE} artists.' You can also add 'Use Markdown format.' if you wish the output to be formatted."}),React.createElement(Ei,{label:"Output Element",value:i,onChange:function(e){return u({outputElement:e})},help:"The result will be written to this element. If you wish to simply display the result in an Output Block, use its ID. For instance, if its ID is mwai-666, use '#mwai-666'."})),React.createElement(wi,{title:pi("Params")},t&&t.length>0&&React.createElement(xi,{label:"Model",value:o,options:f,onChange:function(e){return u({model:e})}}))))};function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function Li(){Li=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new O(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function m(){}function d(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Si(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Pi(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pi(o,r,a,i,c,"next",e)}function c(e){Pi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ni=wp.element,Ii=Ni.useState,Ai=Ni.useEffect;Ni.useMemo;const Fi=function(e){var t=e.isOpen,n=void 0!==t&&t,r=(e.title,e.onClose),a=void 0===r?{}:r,o=ji(Ii(""),2),i=o[0],c=o[1],l=ji(Ii("Logitech MK270 Wireless Keyboard"),2),u=l[0],s=l[1],f=ji(Ii(""),2),m=f[0],d=f[1],p=ji(Ii(""),2),h=p[0],v=p[1],g=ji(Ii(""),2),w=g[0],R=g[1],x=ji(Ii(!1),2),k=x[0],_=x[1],S=ji(Ii(!1),2),L=(S[0],S[1]);function T(e){var t=e.split("\n"),n={};return t.forEach((function(e){e.startsWith("DESCRIPTION:")?n.description=e.replace("DESCRIPTION:","").trim():e.startsWith("SHORT_DESCRIPTION:")?n.shortDescription=e.replace("SHORT_DESCRIPTION:","").trim():e.startsWith("SEO_TITLE:")?n.seoTitle=e.replace("SEO_TITLE:","").trim():e.startsWith("TAGS:")&&(n.keywords=e.replace("TAGS:","").trim().split(", "))})),n}Ai((function(){var e=document.getElementById("title");e&&s(e.value)}),[n]);var C=function(){var e=Ti(Li().mark((function e(t){var n,r,a;return Li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postId,_(!0),n="Here is the product: {USER_ENTRY}\n\nBased on the product, write a description of this product (between 120 and 240 words), a short description (between 20-49 words), a SEO-friendly title, and tags, separated by commas. Use this format:\nDESCRIPTION: \nSHORT_DESCRIPTION: \nSEO_TITLE: \nTAGS: \n\n".replace("{USER_ENTRY}",u),e.next=5,(0,E.PV)("".concat(O,"/make_completions"),{method:"POST",nonce:P,json:{maxTokens:512,temperature:.8,env:"admin-tools",session:j,prompt:n}});case 5:r=e.sent,_(!1),r.success&&(a=T(r.data),console.log({raw:r.data,info:a}),c(a.description),d(a.shortDescription),v(a.seoTitle),R(a.keywords.join(", ")));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=document.getElementById("title");e?e.value=h:alert("The title cannot be written (the field could not be found).")},I=function(){var e=tinyMCE.get("content");e?e.setContent(i):alert("The content cannot be written (the field could not be found).")},A=function(){var e=tinyMCE.get("excerpt");e?e.setContent(m):alert("The content cannot be written (the field could not be found).")},F=function(){var e=document.getElementById("new-tag-product_tag");e?e.value=w:alert("The tags cannot be written (the field could not be found).")},G=function(){var e=Ti(Li().mark((function e(){return Li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(),I(),A(),F(),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Ti(Li().mark((function e(){return Li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),L(),_(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(y.o,null,React.createElement(Oe.L,{isOpen:n,onRequestClose:B,title:"WooCommerce Product Generator",content:React.createElement(lt,null,React.createElement("label",null,"Define your product:"),React.createElement("div",{className:"form-row"},React.createElement(ye.A,{disabled:k,name:"userEntry",value:u,onChange:s,style:{flex:"auto"},placeholder:"What's your product?"}),React.createElement(b._,{isBusy:k,onClick:C,style:{marginLeft:5}},"Generate Fields")),React.createElement(be.i,{height:30,line:!0}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Title"),React.createElement(b._,{small:!0,disabled:!h,onClick:N},"Write")),React.createElement(ye.A,{disabled:k,rows:4,value:h,onChange:v}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Description"),React.createElement(b._,{small:!0,disabled:!i,onClick:I},"Write")),React.createElement(Ee.l,{disabled:k,rows:4,value:i,onChange:c}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Short Description"),React.createElement(b._,{small:!0,disabled:!m,onClick:A},"Write")),React.createElement(Ee.l,{disabled:k,rows:4,value:m,onChange:d}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Product Tags"),React.createElement(b._,{small:!0,disabled:!w,onClick:F},"Write")),React.createElement(ye.A,{small:!0,disabled:k,rows:4,value:w,onChange:R})),ok:"Write all fields",onOkClick:G}))};function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bi=wp.element,Mi=Bi.useState,zi=(Bi.useEffect,Bi.useMemo,wp.i18n.__,wp.components.Button);const Di=function(){var e,t,n=(e=Mi(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return React.createElement(React.Fragment,null,React.createElement("p",null,"Generate the WooCommerce fields."),React.createElement("div",{style:{display:"flex"}},React.createElement(zi,{variant:"primary",onClick:function(){a(!0)},style:{flex:1,marginRight:10}},React.createElement(Ja,{icon:"wand",style:{marginRight:8}})," Generate Fields")),React.createElement(y.o,null,React.createElement(Fi,{isOpen:r,onClose:function(){a(!1)}})))};var Wi=wp.element.render,qi=new l.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});Ho("ai-engine/form-field",{title:"AI Form Field",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:vo,category:"layout",keywords:[Zo("ai"),Zo("openai"),Zo("form")],attributes:{id:{type:"string",default:""},name:{type:"string",default:"LABEL"},type:{type:"string",default:"input"},options:{type:"array",default:[]},label:{type:"string",default:"Label: "},placeholder:{type:"string",default:""}},edit:ri,save:ni}),oi("ai-engine/form-output",{title:"AI Form Output",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:vo,category:"layout",keywords:[ai("ai"),ai("openai"),ai("form")],attributes:{id:{type:"string",default:""}},edit:di,save:mi}),Eo("ai-engine/chatbot",{title:"AI Chatbot",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"being built"),". I will allow to create a chatbot. Coming soon!"),icon:vo,category:"layout",keywords:[bo("ai"),bo("openai"),bo("chatbot")],attributes:{id:{type:"string",default:""}},edit:Po,save:Lo}),hi("ai-engine/form-submit",{title:"AI Form Submit",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:vo,category:"layout",keywords:[pi("ai"),pi("openai"),pi("form")],attributes:{label:{type:"string",default:"Submit"},prompt:{type:"string",default:""},outputElement:{type:"string",default:""},model:{type:"string",default:""}},edit:_i,save:Oi}),Co("ai-engine/form-container",{title:"AI Form Container",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:vo,category:"layout",keywords:[jo("ai"),jo("openai"),jo("form")],attributes:{id:{type:"string",default:""},theme:{type:"string",default:"ChatGPT"}},edit:qo,save:Wo}),document.addEventListener("DOMContentLoaded",(function(){oo("ai-engine-document-settings",{render:fo});var e=document.getElementById("mwai-admin-settings");e&&Wi(React.createElement(u.aH,{client:qi},React.createElement(Wn,null)),e);var t=document.getElementById("mwai-content-generator");t&&Wi(React.createElement(u.aH,{client:qi},React.createElement(sa,null)),t);var n=document.getElementById("mwai-image-generator");n&&Wi(React.createElement(u.aH,{client:qi},React.createElement(Pa,null)),n);var r=document.getElementById("mwai-playground");r&&Wi(React.createElement(u.aH,{client:qi},React.createElement(xr,null)),r);var a=document.getElementById("mwai-admin-postsList");a&&Wi(React.createElement(Hr,null),a);var o=document.getElementById("mwai-admin-wcAssistant");o&&Wi(React.createElement(Di,null),o);var i=document.getElementById("meow-common-dashboard");i&&Wi(React.createElement(ve,null),i)}))},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){n=e[s][0],a=e[s][1],o=e[s][2];for(var c=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,i=n[0],c=n[1],l=n[2],u=0;if(i.some((t=>0!==e[t]))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(l)var s=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=self.wpJsonMwai=self.wpJsonMwai||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(4657)));a=r.O(a)})();